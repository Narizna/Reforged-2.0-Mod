scripted_gui = {
	
	historical_armor_design = {
		context_type = player_context
		
		window_name = "historical_armor_design_parent_container"
		parent_window_token = production_tab
		 
		visible = {
			has_country_flag = show_HTD
		}
		
		effects = { 
			close_button_click = {
				clr_country_flag = show_HTD
				clear_array = HTD_countries
			}
			flag_click = {
				if = {
					limit = {
						THIS = { tag = ROOT }
					}
					clear_array = HTD_year
					clear_array = HTD_armor
					HTD_open_window = yes
				}
				else = {
					clear_array = ROOT.HTD_year
					clear_array = ROOT.HTD_armor
					
					for_each_loop = {
						array = HTD_year 
						
						add_to_array = { ROOT.HTD_year = v }
					}
					for_each_loop = {
						array = HTD_armor 
						
						add_to_array = { ROOT.HTD_armor = v }
					}
				}
				
				set_variable = { ROOT.HTD_target = THIS }
			}
			unlock_all_click = {
							
				for_each_loop = {
					array = HTD_armor
					
					meta_effect = {
						text = {
							HTD_[X]_[Y] = yes 
							set_country_flag = HTD_[X]_[Y]
						}
						X = "[?HTD_target.GetTag]"
						Y = "[?v.GetTokenKey]"
					}
				}
				
				add_to_variable = { ui_HTD = 1 }
			}
			bypass_trigger_click = {
				if = {
					limit = {
						has_country_flag = HTD_skip_trigger
					}
					clr_country_flag = HTD_skip_trigger
				}
				else = {
					set_country_flag = HTD_skip_trigger
				}
				
				add_to_variable = { ui_HTD = 1 }
			}
		}
		
		triggers = {
			unlock_all_visible = {
				is_debug = yes
			}
			bypass_trigger_visible = {
				is_debug = yes
			}
		}
		
		properties = {
			flag = {
				image = "[This.GetFlag]"
			}
		}
		dynamic_lists = {
			HTD_list = {
				array = HTD_countries
				change_scope = yes
				entry_container = "HTD_list_entry"
			}
		}
	}
	GER_historical_armor_design = {
		context_type = player_context 
		
		window_name = "GER_historical_armor_design_container"
		parent_scripted_gui = historical_armor_design
		
		visible = {
			check_variable = { HTD_target = GER }
		}
		
		dirty = ui_HTD
		
		properties = {
			tech = {
				image = "[GetHDTTechBG]"
				frame = tech_status
				x = tech_x
				y = tech_y
			}
			tech_icon = {
				image = "GFX_[?v.GetTokenKey]"
				x = icon_x
				y = icon_y
			}  
			subtech_icon = {
				x = subicon_x
				y = subicon_y
			}  
			tech_name = {
				x = name_x
				y = name_y
			}  
			tech_cost = {
				x = name_x
				y = cost_y
			} 
			tech_cost_bg = {
				x = cost_bg_x
				y = cost_bg_y
			} 
		}
		 
		dynamic_lists = {
			tech_list = {
				array = HTD_armor
				change_scope = yes
				entry_container = "tech_entry"
			}
			year_list = {
				array = HTD_year
				change_scope = yes
				entry_container = "year_entry"
			}
		}  
		  
		effects = {
			tech_click = {
				HTD_tech_effect = yes
			}   
		}  
		     
		triggers = {       
			tech_name_visible = {
				check_variable = { subtech = 0 } 
			}      
			tech_icon_visible = {
				check_variable = { subtech = 0 }
			}     
			tech_cost_visible = {
				check_variable = { subtech = 0 }
			}         
			tech_cost_bg_visible = {
				check_variable = { subtech = 0 }
				NOT = { check_variable = { tech_status = 3 } }
			}  
			subtech_icon_visible = { 
				check_variable = { subtech > 0 }
			}
			tech_click_enabled = {       
				set_temp_variable = { tech_x = 0 }
				set_temp_variable = { tech_y = 0 }
							
				HTD_GER_tech_position = yes
				
				HTD_can_unlock = yes
				
			}
		}
	}
	SOV_historical_armor_design = {
		context_type = player_context 
		
		window_name = "SOV_historical_armor_design_container"
		parent_scripted_gui = historical_armor_design
		
		visible = {
			check_variable = { HTD_target = SOV }
		}
		
		dirty = ui_HTD
		
		properties = {
			tech = {
				image = "[GetHDTTechBG]"
				frame = tech_status
				x = tech_x
				y = tech_y
			}
			tech_icon = {
				image = "GFX_[?v.GetTokenKey]"
				x = icon_x
				y = icon_y
			}  
			subtech_icon = {
				x = subicon_x
				y = subicon_y
			}  
			tech_name = {
				x = name_x
				y = name_y
			}  
			tech_cost = {
				x = name_x
				y = cost_y
			} 
			tech_cost_bg = {
				x = cost_bg_x
				y = cost_bg_y
			} 
		}
		 
		dynamic_lists = {
			tech_list = {
				array = HTD_armor
				change_scope = yes
				entry_container = "tech_entry"
			}
			year_list = {
				array = HTD_year
				change_scope = yes
				entry_container = "year_entry"
			}
		}  
		  
		effects = {
			tech_click = {
				HTD_tech_effect = yes
			}   
		}  
		     
		triggers = {       
			tech_name_visible = {
				check_variable = { subtech = 0 } 
			}      
			tech_icon_visible = {
				check_variable = { subtech = 0 }
			}     
			tech_cost_visible = {
				check_variable = { subtech = 0 }
			}       
			tech_cost_bg_visible = {
				check_variable = { subtech = 0 }
				NOT = { check_variable = { tech_status = 3 } }
			}   
			subtech_icon_visible = { 
				check_variable = { subtech > 0 }
			}
			tech_click_enabled = {       
				set_temp_variable = { tech_x = 0 }
				set_temp_variable = { tech_y = 0 }
							
				HTD_SOV_tech_position = yes 
				
				HTD_can_unlock = yes
				
			}
		}
	}
	USA_historical_armor_design = {
		context_type = player_context 
		
		window_name = "USA_historical_armor_design_container"
		parent_scripted_gui = historical_armor_design
		
		visible = {
			check_variable = { HTD_target = USA }
		}
		
		dirty = ui_HTD
		
		properties = {
			tech = {
				image = "[GetHDTTechBG]"
				frame = tech_status
				x = tech_x
				y = tech_y
			}
			tech_icon = {
				image = "GFX_[?v.GetTokenKey]"
				x = icon_x
				y = icon_y
			}  
			subtech_icon = {
				x = subicon_x
				y = subicon_y
			}  
			tech_name = {
				x = name_x
				y = name_y
			}  
			tech_cost = {
				x = name_x
				y = cost_y
			} 
			tech_cost_bg = {
				x = cost_bg_x
				y = cost_bg_y
			} 
		}
		 
		dynamic_lists = {
			tech_list = {
				array = HTD_armor
				change_scope = yes
				entry_container = "tech_entry"
			}
			year_list = {
				array = HTD_year
				change_scope = yes
				entry_container = "year_entry"
			}
		}  
		  
		effects = {
			tech_click = {
				HTD_tech_effect = yes
			}   
		}  
		     
		triggers = {       
			tech_name_visible = {
				check_variable = { subtech = 0 } 
			}      
			tech_icon_visible = {
				check_variable = { subtech = 0 }
			}     
			tech_cost_visible = {
				check_variable = { subtech = 0 }
			}        
			tech_cost_bg_visible = {
				check_variable = { subtech = 0 }
				NOT = { check_variable = { tech_status = 3 } }
			}   
			subtech_icon_visible = { 
				check_variable = { subtech > 0 }
			}
			tech_click_enabled = {       
				set_temp_variable = { tech_x = 0 }
				set_temp_variable = { tech_y = 0 }
							
				HTD_USA_tech_position = yes 
				
				HTD_can_unlock = yes
				
			}
		}
	}
	ENG_historical_armor_design = {
		context_type = player_context 
		
		window_name = "ENG_historical_armor_design_container"
		parent_scripted_gui = historical_armor_design
		
		visible = {
			check_variable = { HTD_target = ENG }
		}
		
		dirty = ui_HTD
		
		properties = {
			tech = {
				image = "[GetHDTTechBG]"
				frame = tech_status
				x = tech_x
				y = tech_y
			}
			tech_icon = {
				image = "GFX_[?v.GetTokenKey]"
				x = icon_x
				y = icon_y
			}  
			subtech_icon = {
				x = subicon_x
				y = subicon_y
			}  
			tech_name = {
				x = name_x
				y = name_y
			}  
			tech_cost = {
				x = name_x
				y = cost_y
			} 
			tech_cost_bg = {
				x = cost_bg_x
				y = cost_bg_y
			} 
		}
		 
		dynamic_lists = {
			tech_list = {
				array = HTD_armor
				change_scope = yes
				entry_container = "tech_entry"
			}
			year_list = {
				array = HTD_year
				change_scope = yes
				entry_container = "year_entry"
			}
		}  
		  
		effects = {
			tech_click = {
				HTD_tech_effect = yes
			}   
		}  
		     
		triggers = {       
			tech_name_visible = {
				check_variable = { subtech = 0 } 
			}      
			tech_icon_visible = {
				check_variable = { subtech = 0 }
			}     
			tech_cost_visible = {
				check_variable = { subtech = 0 }
			}         
			tech_cost_bg_visible = {
				check_variable = { subtech = 0 }
				NOT = { check_variable = { tech_status = 3 } }
			}  
			subtech_icon_visible = { 
				check_variable = { subtech > 0 }
			}
			tech_click_enabled = {       
				set_temp_variable = { tech_x = 0 }
				set_temp_variable = { tech_y = 0 }
							
				HTD_ENG_tech_position = yes 
				
				HTD_can_unlock = yes
				
			}
		}
	}
	CMW_historical_armor_design = {
		context_type = player_context 
		
		window_name = "CMW_historical_armor_design_container"
		parent_scripted_gui = historical_armor_design
		
		visible = {
			check_variable = { HTD_target = CMW }
		}
		
		dirty = ui_HTD
		
		properties = {
			tech = {
				image = "[GetHDTTechBG]"
				frame = tech_status
				x = tech_x
				y = tech_y
			}
			tech_icon = {
				image = "GFX_[?v.GetTokenKey]"
				x = icon_x
				y = icon_y
			}  
			subtech_icon = {
				x = subicon_x
				y = subicon_y
			}  
			tech_name = {
				x = name_x
				y = name_y
			}  
			tech_cost = {
				x = name_x
				y = cost_y
			} 
			tech_cost_bg = {
				x = cost_bg_x
				y = cost_bg_y
			} 
		}
		 
		dynamic_lists = {
			tech_list = {
				array = HTD_armor
				change_scope = yes
				entry_container = "tech_entry"
			}
			year_list = {
				array = HTD_year
				change_scope = yes
				entry_container = "year_entry"
			}
		}  
			
		effects = {
			tech_click = {
				HTD_tech_effect = yes
			}   
		}  
				 
		triggers = {       
			tech_name_visible = {
				check_variable = { subtech = 0 } 
			}      
			tech_icon_visible = {
				check_variable = { subtech = 0 }
			}     
			tech_cost_visible = {
				check_variable = { subtech = 0 }
			}        
			tech_cost_bg_visible = {
				check_variable = { subtech = 0 }
				NOT = { check_variable = { tech_status = 3 } }
			}   
			subtech_icon_visible = { 
				check_variable = { subtech > 0 }
			}
			tech_click_enabled = {       
				set_temp_variable = { tech_x = 0 }
				set_temp_variable = { tech_y = 0 }
							
				HTD_CMW_tech_position = yes 
				
				HTD_can_unlock = yes
				
			}
		}
	}
	JAP_historical_armor_design = {
		context_type = player_context 
		
		window_name = "JAP_historical_armor_design_container"
		parent_scripted_gui = historical_armor_design
		
		visible = {
			check_variable = { HTD_target = JAP }
		}
		
		dirty = ui_HTD
		
		properties = {
			tech = {
				image = "[GetHDTTechBG]"
				frame = tech_status
				x = tech_x
				y = tech_y
			}
			tech_icon = {
				image = "GFX_[?v.GetTokenKey]"
				x = icon_x
				y = icon_y
			}  
			subtech_icon = {
				x = subicon_x
				y = subicon_y
			}  
			tech_name = {
				x = name_x
				y = name_y
			}  
			tech_cost = {
				x = name_x
				y = cost_y
			} 
			tech_cost_bg = {
				x = cost_bg_x
				y = cost_bg_y
			} 
		}
		 
		dynamic_lists = {
			tech_list = {
				array = HTD_armor
				change_scope = yes
				entry_container = "tech_entry"
			}
			year_list = {
				array = HTD_year
				change_scope = yes
				entry_container = "year_entry"
			}
		}  
		  
		effects = {
			tech_click = {
				HTD_tech_effect = yes
			}   
		}  
		     
		triggers = {       
			tech_name_visible = {
				check_variable = { subtech = 0 } 
			}      
			tech_icon_visible = {
				check_variable = { subtech = 0 }
			}     
			tech_cost_visible = {
				check_variable = { subtech = 0 }
			}        
			tech_cost_bg_visible = {
				check_variable = { subtech = 0 }
				NOT = { check_variable = { tech_status = 3 } }
			}   
			subtech_icon_visible = { 
				check_variable = { subtech > 0 }
			}
			tech_click_enabled = {       
				set_temp_variable = { tech_x = 0 }
				set_temp_variable = { tech_y = 0 }
							
				HTD_JAP_tech_position = yes 
				
				HTD_can_unlock = yes
				
			}
		}
	}
	ITA_historical_armor_design = {
		context_type = player_context 
		
		window_name = "ITA_historical_armor_design_container"
		parent_scripted_gui = historical_armor_design
		
		visible = {
			check_variable = { HTD_target = ITA }
		}
		
		dirty = ui_HTD
		
		properties = {
			tech = {
				image = "[GetHDTTechBG]"
				frame = tech_status
				x = tech_x
				y = tech_y
			}
			tech_icon = {
				image = "GFX_[?v.GetTokenKey]"
				x = icon_x
				y = icon_y
			}  
			subtech_icon = {
				x = subicon_x
				y = subicon_y
			}  
			tech_name = {
				x = name_x
				y = name_y
			}  
			tech_cost = {
				x = name_x
				y = cost_y
			} 
			tech_cost_bg = {
				x = cost_bg_x
				y = cost_bg_y
			} 
		}
		 
		dynamic_lists = {
			tech_list = {
				array = HTD_armor
				change_scope = yes
				entry_container = "tech_entry"
			}
			year_list = {
				array = HTD_year
				change_scope = yes
				entry_container = "year_entry"
			}
		}  
		  
		effects = {
			tech_click = {
				HTD_tech_effect = yes
			}   
		}  
		     
		triggers = {       
			tech_name_visible = {
				check_variable = { subtech = 0 } 
			}      
			tech_icon_visible = {
				check_variable = { subtech = 0 }
			}     
			tech_cost_visible = {
				check_variable = { subtech = 0 }
			}         
			tech_cost_bg_visible = {
				check_variable = { subtech = 0 }
				NOT = { check_variable = { tech_status = 3 } }
			}  
			subtech_icon_visible = { 
				check_variable = { subtech > 0 }
			}
			tech_click_enabled = {       
				set_temp_variable = { tech_x = 0 }
				set_temp_variable = { tech_y = 0 }
							
				HTD_ITA_tech_position = yes 
				
				HTD_can_unlock = yes
				
			}
		}
	}
	FRA_historical_armor_design = {
		context_type = player_context 
		
		window_name = "FRA_historical_armor_design_container"
		parent_scripted_gui = historical_armor_design
		
		visible = {
			check_variable = { HTD_target = FRA }
		}
		
		dirty = ui_HTD
		
		properties = {
			tech = {
				image = "[GetHDTTechBG]"
				frame = tech_status
				x = tech_x
				y = tech_y
			}
			tech_icon = {
				image = "GFX_[?v.GetTokenKey]"
				x = icon_x
				y = icon_y
			}  
			subtech_icon = {
				x = subicon_x
				y = subicon_y
			}  
			tech_name = {
				x = name_x
				y = name_y
			}  
			tech_cost = {
				x = name_x
				y = cost_y
			} 
			tech_cost_bg = {
				x = cost_bg_x
				y = cost_bg_y
			} 
		}
		 
		dynamic_lists = {
			tech_list = {
				array = HTD_armor
				change_scope = yes
				entry_container = "tech_entry"
			}
			year_list = {
				array = HTD_year
				change_scope = yes
				entry_container = "year_entry"
			}
		}  
		  
		effects = {
			tech_click = {
				HTD_tech_effect = yes
			}   
		}  
		     
		triggers = {       
			tech_name_visible = {
				check_variable = { subtech = 0 } 
			}      
			tech_icon_visible = {
				check_variable = { subtech = 0 }
			}     
			tech_cost_visible = {
				check_variable = { subtech = 0 }
			}         
			tech_cost_bg_visible = {
				check_variable = { subtech = 0 }
				NOT = { check_variable = { tech_status = 3 } }
			}  
			subtech_icon_visible = { 
				check_variable = { subtech > 0 }
			}
			tech_click_enabled = {       
				set_temp_variable = { tech_x = 0 }
				set_temp_variable = { tech_y = 0 }
							
				HTD_FRA_tech_position = yes 

				HTD_can_unlock = yes
			}
		}
	}
	HUN_historical_armor_design = {
		context_type = player_context 
		
		window_name = "HUN_historical_armor_design_container"
		parent_scripted_gui = historical_armor_design
		
		visible = {
			check_variable = { HTD_target = HUN }
		}
		
		dirty = ui_HTD
		
		properties = {
			tech = {
				image = "[GetHDTTechBG]"
				frame = tech_status
				x = tech_x
				y = tech_y
			}
			tech_icon = {
				image = "GFX_[?v.GetTokenKey]"
				x = icon_x
				y = icon_y
			}  
			subtech_icon = {
				x = subicon_x
				y = subicon_y
			}  
			tech_name = {
				x = name_x
				y = name_y
			}  
			tech_cost = {
				x = name_x
				y = cost_y
			} 
			tech_cost_bg = {
				x = cost_bg_x
				y = cost_bg_y
			} 
		}
		 
		dynamic_lists = {
			tech_list = {
				array = HTD_armor
				change_scope = yes
				entry_container = "tech_entry"
			}
			year_list = {
				array = HTD_year
				change_scope = yes
				entry_container = "year_entry"
			}
		}  
		  
		effects = {
			tech_click = {
				HTD_tech_effect = yes
			}   
		}  
		     
		triggers = {       
			tech_name_visible = {
				check_variable = { subtech = 0 } 
			}      
			tech_icon_visible = {
				check_variable = { subtech = 0 }
			}     
			tech_cost_visible = {
				check_variable = { subtech = 0 }
			}         
			tech_cost_bg_visible = {
				check_variable = { subtech = 0 }
				NOT = { check_variable = { tech_status = 3 } }
			}  
			subtech_icon_visible = { 
				check_variable = { subtech > 0 }
			}
			tech_click_enabled = {       
				set_temp_variable = { tech_x = 0 }
				set_temp_variable = { tech_y = 0 }
							
				HTD_HUN_tech_position = yes 

				HTD_can_unlock = yes
			}
		}
	}
	Axis_minor_historical_armor_design = {
		context_type = player_context 
		
		window_name = "Axis_minor_historical_armor_design_container"
		parent_scripted_gui = historical_armor_design
		
		visible = {
			check_variable = { HTD_target = SWE }
		}
		
		dirty = ui_HTD
		
		properties = {
			tech = {
				image = "[GetHDTTechBG]"
				frame = tech_status
				x = tech_x
				y = tech_y
			}
			tech_icon = {
				image = "GFX_[?v.GetTokenKey]"
				x = icon_x
				y = icon_y
			}  
			subtech_icon = {
				x = subicon_x
				y = subicon_y
			}  
			tech_name = {
				x = name_x
				y = name_y
			}  
			tech_cost = {
				x = name_x
				y = cost_y
			} 
			tech_cost_bg = {
				x = cost_bg_x
				y = cost_bg_y
			} 
		}
		 
		dynamic_lists = {
			tech_list = {
				array = HTD_armor
				change_scope = yes
				entry_container = "tech_entry"
			}
			year_list = {
				array = HTD_year
				change_scope = yes
				entry_container = "year_entry"
			}
		}  
		  
		effects = {
			tech_click = {
				HTD_tech_effect = yes
			}   
		}  
		     
		triggers = {       
			tech_name_visible = {
				check_variable = { subtech = 0 } 
			}      
			tech_icon_visible = {
				check_variable = { subtech = 0 }
			}     
			tech_cost_visible = {
				check_variable = { subtech = 0 }
			}         
			tech_cost_bg_visible = {
				check_variable = { subtech = 0 }
				NOT = { check_variable = { tech_status = 3 } }
			}  
			subtech_icon_visible = { 
				check_variable = { subtech > 0 }
			}
			tech_click_enabled = {       
				set_temp_variable = { tech_x = 0 }
				set_temp_variable = { tech_y = 0 }
							
				HTD_Axis_minor_tech_position = yes 

				HTD_can_unlock = yes
			}
		}
	}
	CZE_historical_armor_design = {
		context_type = player_context 
		
		window_name = "CZE_historical_armor_design_container"
		parent_scripted_gui = historical_armor_design
		
		visible = {
			check_variable = { HTD_target = CZE }
		}
		
		dirty = ui_HTD
		
		properties = {
			tech = {
				image = "[GetHDTTechBG]"
				frame = tech_status
				x = tech_x
				y = tech_y
			}
			tech_icon = {
				image = "GFX_[?v.GetTokenKey]"
				x = icon_x
				y = icon_y
			}  
			subtech_icon = {
				x = subicon_x
				y = subicon_y
			}  
			tech_name = {
				x = name_x
				y = name_y
			}  
			tech_cost = {
				x = name_x
				y = cost_y
			} 
			tech_cost_bg = {
				x = cost_bg_x
				y = cost_bg_y
			} 
		}
		 
		dynamic_lists = {
			tech_list = {
				array = HTD_armor
				change_scope = yes
				entry_container = "tech_entry"
			}
			year_list = {
				array = HTD_year
				change_scope = yes
				entry_container = "year_entry"
			}
		}  
		  
		effects = {
			tech_click = {
				HTD_tech_effect = yes
			}   
		}  
		     
		triggers = {       
			tech_name_visible = {
				check_variable = { subtech = 0 } 
			}      
			tech_icon_visible = {
				check_variable = { subtech = 0 }
			}     
			tech_cost_visible = {
				check_variable = { subtech = 0 }
			}         
			tech_cost_bg_visible = {
				check_variable = { subtech = 0 }
				NOT = { check_variable = { tech_status = 3 } }
			}  
			subtech_icon_visible = { 
				check_variable = { subtech > 0 }
			}
			tech_click_enabled = {       
				set_temp_variable = { tech_x = 0 }
				set_temp_variable = { tech_y = 0 }
							
				HTD_CZE_tech_position = yes 

				HTD_can_unlock = yes
			}
		}
	}
}