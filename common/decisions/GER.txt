#Category only allowed for GER
special_projects = {

	GER_dismantle_maginot = {

		icon = generic_construction

		available = {
			has_war = yes
			any_country = {
				OR = {
					tag = GER
					is_in_faction_with = GER
				}
				controls_state = 28
			}
		}

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 50
		}

		visible = {
			original_tag = GER 
			has_completed_focus = GER_occupation_of_france
		}

		days_remove = 180

		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			28 = {
				set_building_level = {
					type = bunker
					level = 0
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 2
					}
				}
			}
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				18 = {
					set_building_level = {
						type = bunker
						level = 0
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 2
						}
					}
				}
				29 = {
					set_building_level = {
						type = bunker
						level = 0
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 2
						}
					}
				}
			}
		}
		complete_effect = {
			if = {
				limit = { FRA = { has_completed_focus = FRA_extend_the_maginot_line } }
				add_timed_idea = { idea = GER_dismantle_maginot days = 270 }
				else = {
					add_timed_idea = { idea = GER_dismantle_maginot days = 180 }
				}
			}
		}
	}
	GER_the_bismarck = {

		icon = generic_naval

		available = { 
			has_tech = improved_ship_hull_heavy
			has_tech = basic_heavy_armor_scheme
			has_tech = improved_heavy_battery
			has_tech = improved_fire_control_system
		}

		visible = {
			has_completed_focus = GER_battleship_focus
		}
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 1
		}

		complete_effect = {

			create_equipment_variant = {
				name = "Bismarck Class"
				type = ship_hull_heavy_3
				name_group = GER_BB_HISTORICAL
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_heavy_battery_3
					fixed_ship_anti_air_slot = ship_anti_air_2
					fixed_ship_fire_control_system_slot = ship_fire_control_system_2
					fixed_ship_radar_slot = ship_radar_2
					fixed_ship_engine_slot = heavy_ship_engine_3
					fixed_ship_secondaries_slot = ship_secondaries_2
					fixed_ship_armor_slot = ship_armor_bb_2
					front_1_custom_slot = ship_heavy_battery_3
					mid_1_custom_slot = ship_heavy_battery_3
					mid_2_custom_slot = ship_secondaries_2
					mid_3_custom_slot = ship_airplane_launcher_2
					rear_1_custom_slot = ship_heavy_battery_3
				}
			}
			
			hidden_effect = {
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_3
						creator = "GER" 
						version_name = "Bismarck Class"
					}
					name = "Bismarck" 
					requested_factories = 5
					progress = 0.55
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_3
						creator = "GER" 
						version_name = "Bismarck Class"
					}
					name = "Tirpitz" 
					requested_factories = 5
					progress = 0.40
					amount = 1
				}
			}
		}
	}

	GER_graf_zeppelin = {

		icon = generic_naval

		available = { 
			has_tech = improved_ship_hull_carrier
		}

		visible = {
			has_completed_focus = GER_carrier_focus
		}
		cost = 0
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 1
		}

		complete_effect = {

			create_equipment_variant = {
				name = "Graf Zeppelin Class"
				type = ship_hull_carrier_2
				name_group = GER_CV_HISTORICAL
				parent_version = 0
				modules = {
					fixed_ship_deck_slot_1 = ship_deck_space
					fixed_ship_deck_slot_2 = ship_deck_space
					fixed_ship_anti_air_slot = ship_anti_air_2
					fixed_ship_radar_slot = ship_radar_2
					fixed_ship_engine_slot = carrier_ship_engine_3
					fixed_ship_secondaries_slot = ship_secondaries_2
					front_1_custom_slot = ship_deck_space
					mid_1_custom_slot = ship_deck_space
				}
			}
			
			hidden_effect = {
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_2
						creator = "GER" 
						version_name = "Graf Zeppelin Class"
					}
					name = "Graf Zeppelin" 
					requested_factories = 5
					progress = 0.75
					amount = 1
				}
			}
		}
	}

	GER_westwall = {

		icon = generic_construction

		allowed = {
		   tag = GER
		}
		available = {
			42 = { is_demilitarized_zone = no }
			51 = { is_demilitarized_zone = no }
			num_of_civilian_factories_available_for_projects > 2
		}

		cost = 25

		fire_only_once = yes

		ai_will_do = {
			factor = 5
		}

		days_remove = 70

		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			custom_effect_tooltip = GER_westwall_tt
			custom_effect_tooltip = GER_westwall_2_tt
			hidden_effect = {
				50 = {
					add_building_construction = {
						type = bunker
						province = 11640
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 6712
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 6542
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 3530
						level = 5
					}
				}		
				42 = {	
					add_building_construction = {
						type = bunker
						province = 3558
						level = 5
					}		
					add_building_construction = {
						type = bunker
						province = 563
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 11531
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 9575
						level = 5
					}
				}
			}
		}
	}

	GER_africa_korps = {
		
		cost = 25
		
		
		allowed = {
		   tag = GER
		}
		
		available = {
			has_war_with = ENG
			ITA = { has_war_with = ENG }
			is_in_faction_with = ITA
			ITA = { has_full_control_of_state = 448 }
				or = {
					ENG = { num_occupied_states > 3 } #needs to account for ETHIOPIA i think - Xen
					date > 1941.1.1
				}
		}

		visible = {
			has_war_with = ENG
			ITA = { has_war_with = ENG }
		}
        
		fire_only_once = yes
		
		days_remove = 35

		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			custom_effect_tooltip = GER_afrikakorps_tt
			hidden_effect = {
				GER = {
				country_event = germany.233
				}
			}
		}
	}

	GER_prepare_to_invade_the_ussr = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		cost = 25 
		
		allowed = {
		   tag = GER
		}

		available = {	
			num_of_civilian_factories_available_for_projects > 15
			has_tech = construction3				
			POL = { has_capitulated = yes }
			OR = {
				GER = { controls_state = 73 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 73
				}
			}
			OR = {
				GER = { controls_state = 76 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 76
				}
			}
			OR = {
				GER = { controls_state = 79 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 79
				}
			}
		}

		days_remove = 70

		visible = {
			has_completed_focus = GER_polish_occupation
		}
		
		modifier = {
			civilian_factory_use = 15			
		}

		ai_will_do = {
			factor = 10
		}

		remove_effect = {
			custom_effect_tooltip = GER_prepare_to_invade_the_ussr_tt
			custom_effect_tooltip = GER_prepare_to_invade_the_ussr_2_tt
			hidden_effect = {
				188 = {
					build_2_infrastructure = yes
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
						
					}
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes		
					}
				}
				5 = {
					build_2_infrastructure = yes
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
						
					}
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes		
					}
				}
				92 = {
					build_2_infrastructure = yes
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
						
					}
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes		
					}
				}
				98 = {
					build_2_infrastructure = yes
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
						
					}
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes		
					}
				}
				10 = {
					build_2_infrastructure = yes
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
						
					}
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes		
					}
				}
				88 = {
					build_2_infrastructure = yes
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
						
					}
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes		
					}
				}
				90 = {
					build_2_infrastructure = yes
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
						
					}
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes		
					}
				}
				73 = {
					build_2_infrastructure = yes
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
						
					}
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes		
					}
				}
				76 = {
					build_2_infrastructure = yes
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
						
					}
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes		
					}
				}
				79 = {
					build_2_infrastructure = yes
					add_building_construction = {
						type = air_base
						level = 4
						instant_build = yes
						
					}
					add_building_construction = {
						type = radar_station
						level = 2
						instant_build = yes		
					}
					add_building_construction = {
							type = supply_node
							province = 6706
							level = 1
							instant_build = yes
					}
				}
				#Berlin - Stettin
				build_railway = {
					level = 2
					start_province = 6521
					target_province = 6282
				}
				#Stettin - Memel
				build_railway = {
					level = 2
					start_province = 6282
					target_province = 3288
				}
				#Breslau - Gleiwitz
				build_railway = {
					level = 1
					start_province = 9570
					target_province = 11467
				}
				#Gleiwitz - Krakow
				build_railway = {
					level = 2
					start_province = 11467
					target_province = 9427
				}
				#Ploietsti - Galati 
				build_railway = {
					level = 2
					start_province = 3663
					target_province = 6706
				}
				#Galati - Iasi
				build_railway = {
					level = 2
					start_province = 11652 
					target_province = 3741
				}
				#Lodz - Siedlce
				build_railway = {
					level = 2
					start_province = 9508
					target_province = 402
				}
				#Warsaw - Lublin
				build_railway = {
					level = 2
					start_province = 467
					target_province = 11399
				}
				#Danzig - Lublin
				build_railway = {
					level = 2
					start_province = 362
					target_province = 11399
				}
				#Regensburg - Bucharest
				build_railway = {
					level = 2
					build_only_on_allied = yes
					controller_priority = {
						base = 1
					}
					fallback = yes
					path = { 9515 9681 3703 9665 11651 704 11666 3700 6720 9676 11663 9660 716 6716 699 11644 3696 3709 6711 693 11622 676 11639 6709 6695 660 3663 9617 }
					start_province = 9515
					target_province = 9617
				}
			}	
		}	
	}

	GER_plan_atlantikwall = {

		icon = generic_construction

		allowed = {
		   tag = GER
		}
		available = {
			has_tech = construction4
			num_of_civilian_factories_available_for_projects > 30
		    FRA = {
		        has_capitulated = yes 
			}
			OR = {
					GER = { controls_state = 6 }
					any_other_country = {
					is_in_faction_with = GER
					controls_state = 6
				}
			}
			OR = {
					GER = { controls_state = 7 }
					any_other_country = {
					is_in_faction_with = GER
					controls_state = 7
				}
			}
			OR = {
					GER = { controls_state = 36 }
					any_other_country = {
					is_in_faction_with = GER
					controls_state = 36
				}
			}
			OR = {
					GER = { controls_state = 99 }
					any_other_country = {
					is_in_faction_with = GER
					controls_state = 99
				}
			}
			OR = {
				OR = {
					GER = { controls_state = 142 }
						any_other_country = {
						is_in_faction_with = GER
						controls_state = 142
					}
				}
				is_in_faction_with = NOR
			}
		}

		cost = 25

		fire_only_once = yes

		ai_will_do = {
			factor = 5
		}

		days_remove = 200
		
		visible = {
			has_tech = construction4
		}

		modifier = {
			civilian_factory_use = 40
		}

		remove_effect = {
			custom_effect_tooltip = GER_atlantikwall_tt
			custom_effect_tooltip = GER_atlantikwall_tt_2
			hidden_effect = {
				19 = {
					add_building_construction = {
						type = coastal_bunker
						province = 9737
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 9737
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 11565
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 6621
						level = 5
					}
				}
				23 = {
					add_building_construction = {
						type = coastal_bunker
						province = 6657
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 9597
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 11600
						level = 5
					}
				}
				30 = {
					add_building_construction = {	
						type = coastal_bunker
						province = 11465
						level = 5
					}
					add_building_construction = {	
						type = bunker
						province = 11465
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 11616
						level = 5
					}
				}
				14 = {
					add_building_construction = {
						type = coastal_bunker
						province = 9510
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 6536
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 542
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 3552
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 3552
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 6572
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 9525
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 11508
						level = 5
					}
				}
				15 = {
					add_building_construction = {
						type = coastal_bunker
						province = 9550
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 6449
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 6449
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 3579
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 11535
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 6599
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 9434
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 9434
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 485
						level = 5
					}
				}
				29 = {
					add_building_construction = {
						type = coastal_bunker
						province = 11420
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 9500
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 11548
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 575
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 575
						level = 5
					}
				}
				6 = {
					add_building_construction = {
						type = coastal_bunker
						province = 6446
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 6560
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 6560
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 6598
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 6598
						level = 5
					}
				}
				7 = {
					add_building_construction = {
						type = coastal_bunker
						province = 480
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 9431
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 9498
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 9498
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 3211
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 68
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 3314
						level = 5
					}
				}
				36 = {
					add_building_construction = {
						type = coastal_bunker
						province = 6336
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 9335
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 11318
						level = 5
					}
				}
				56 = {
					add_building_construction = {
						type = coastal_bunker
						province = 11360
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 241
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 241
						level = 5
					}
				}
				59 = {
					add_building_construction = {
						type = coastal_bunker
						province = 374
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 3326
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 6349
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 6325
						level = 5
					}
				}
				58 = {
					add_building_construction = {
						type = coastal_bunker
						province = 3368
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 3231
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 9347
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 9347
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 11366
						level = 5
					}
				}
				99 = {
					add_building_construction = {
						type = coastal_bunker
						province = 332
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 399
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 3206
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 316
						level = 5
					}
				}
				142 = {
					add_building_construction = {
						type = coastal_bunker
						province = 9296
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 9296
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 11367
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 137
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 137
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 6176
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 6145
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 6145
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 53
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 9296
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 11367
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 122
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 199
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 3090
						level = 5
					}
					add_building_construction = {
						type = coastal_bunker
						province = 188
						level = 5
					}
				}
				143 = {
					add_building_construction = {
						type = coastal_bunker
						province = 3022
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 3022
						level = 5
					}
				}
				144 = {
					add_building_construction = {
						type = coastal_bunker
						province = 192
						level = 5
					}
					add_building_construction = {
						type = bunker
						province = 192
						level = 5
					}
				}
				28 = {
					set_building_level = {
						type = bunker
						level = 5
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 2
						}
					}
				}
			}
		}
	}

	GER_ostwall = {

		icon = generic_construction

		
		allowed = {
		   tag = GER
		}
		available = {
			num_of_civilian_factories_available_for_projects > 20
			has_tech = construction3
				
				OR = {
					has_full_control_of_state = 191
					has_full_control_of_state = 209
					has_full_control_of_state = 210
					has_full_control_of_state = 207
					has_full_control_of_state = 206
					has_full_control_of_state = 204
					has_full_control_of_state = 194
					has_full_control_of_state = 202
					has_full_control_of_state = 203
					has_full_control_of_state = 226
					has_full_control_of_state = 200
				}
			
		}

		cost = 25

		fire_only_once = yes

		ai_will_do = {
			factor = 5
		}

		days_remove = 100

		visible = {
			has_war_with = SOV
		}
		
		modifier = {
			civilian_factory_use = 20
		}

		remove_effect = {
			custom_effect_tooltip = GER_ostwall_forts
			custom_effect_tooltip = GER_ostwall_forts_2
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 191 
					}
				}
				hidden_effect = {
					191 = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 4640
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 209
					}
				}
				hidden_effect = {
					209 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 415
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 3310
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 210 
					}
				}
				hidden_effect = {
					210 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 3333
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 11259
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 9386
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 207 
					}
				}
				hidden_effect = {
					207 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 323
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 11241
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 11220
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 3331
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 206 
					}
				}
				hidden_effect = {
					206 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 9289
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 3378
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 204 
					}
				}
				hidden_effect = {
					204 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 6373
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 194 
					}
				}
				hidden_effect = {
					194 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 6319
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 9249
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 3507
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 202 
					}
				}
				hidden_effect = {
					202 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 9568
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 3543
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 525
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 13260
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 3494
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 203 
					}
				}
				hidden_effect = {
					203 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 11454
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 488
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 3468
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 6478
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 226 
					}
				}
				hidden_effect = {
					226 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 9433
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 11437
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 200 
					}
				}
				hidden_effect = {
					200 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 11405
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 6596
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 5
							province = 11700
							instant_build = yes
						}
					}
				}
			}
		}
	}
}

operations = {
   GER_annex_cze = {

		icon = generic_political_discourse

		allowed = {
			tag = GER			
		}
		visible = {
			tag = GER
			CZE = { is_ai = yes }
			country_exists = CZE
			date > 1940.1.1
		}
		available = {
			date > 1940.1.1
		}

		cost = 0

		fire_only_once = yes


		complete_effect = {
			CZE = {
				transfer_navy = {
					target = GER
				}
			}
			annex_country = {
              target = CZE
              transfer_troops = yes
			}
			every_state = {
				limit = {
					is_core_of = CZE
				}
				set_resistance = 0
				set_compliance = 100
			}
		}		
	}
    GER_annex_hun = {

		icon = generic_political_discourse

		allowed = {
			tag = GER			
		}
		visible = {
			tag = GER
			HUN = { is_ai = yes }
			country_exists = HUN
			date > 1939.1.1
		}
		available = {
			date > 1939.1.1
		}

		cost = 0

		fire_only_once = yes


		complete_effect = {
			HUN = {
				transfer_navy = {
					target = GER
				}
			}
			annex_country = {
              target = HUN
              transfer_troops = yes
			}
			every_state = {
				limit = {
					is_core_of = HUN
				}
				set_resistance = 0
				set_compliance = 100
			}
		}		
	}
	GER_panzerfaust = {
	
		icon = generic_operation
		
		allowed = {
			tag = GER
		}
		visible = {
			tag = GER
			HUN = {
				has_completed_focus = HUN_slave_state
			}
		}
		available = {
			HUN = {
				has_idea = HUN_axis_bills_ended
			}
		}
		
		cost = 0
		
		fire_only_once = yes
		
		complete_effect = {
			HUN = {
				remove_ideas = HUN_axis_bills_ended
				retire_country_leader = yes
				create_country_leader = {
					name = "Ferenc Szálasi"
					desc = "POLITICS_FERENC_SZALASI_DESC"
					picture = "Portrait_Europe_Generic_2.dds"
					expire = "1965.1.1"
					ideology = fascism_ideology
				}
			}
			if = {
				limit = {
					HUN = {
						is_in_faction_with = GER
					}
				}
				GER = {
					set_autonomy = { target = HUN autonomy_state = autonomy_integrated_puppet }
				}
			}
		}
	}
    GER_annex_bul = {

		icon = generic_political_discourse

		allowed = {
			tag = GER			
		}
		visible = {
			tag = GER
			BUL = { is_ai = yes }
			country_exists = BUL
			date > 1939.1.1
		}
		available = {
			date > 1939.1.1
		}

		cost = 0

		fire_only_once = yes


		complete_effect = {
			BUL = {
				transfer_navy = {
					target = GER
				}
			}
			annex_country = {
              target = BUL
              transfer_troops = yes
			}
			every_state = {
				limit = {
					is_core_of = BUL
				}
				set_resistance = 0
				set_compliance = 100
			}
		}		
	}
    #GER_operation_oak = {
    #    
	#	fire_only_once = yes
	#	icon = generic_operation
	#
	#	allowed = {
	#		tag =  GER
	#	}
	#
	#	available = {
	#		ITA = { 
	#			has_idea = SAl_italian_civil_war 
	#			has_country_leader = {
	#				name = "Chaos and Confusion"
	#				ruling_only = yes
	#			}
	#		}		
	#
	#	}
	#	
	#	visible = {
	#		ITA = { 
	#			has_idea = SAl_italian_civil_war 
	#			has_country_leader = {
	#				name = "Chaos and Confusion"
	#				ruling_only = yes
	#			}
	#		}
	#	}
	#	
	#	cost = 10
	#	ai_will_do = {
	#		factor = 100
	#	}
	#	days_remove = 20
	#
	#	remove_effect = {
	#		ITA = { country_event = salo.4 }
	#	}
	#}
	#
	#GER_rape_italia = {
    #    
	#	fire_only_once = yes
	#	icon = generic_operation
	#
	#	allowed = {
	#		tag =  GER
	#	}
	#	visible = {
	#		ITA = { has_idea = SAl_italian_civil_war }
	#	}
	#	available = {
	#		ITA = { has_idea = SAl_italian_civil_war }
	#		ITA = { is_puppet_of = GER }
	#		ITA = {controls_state = 159}
	#		ITA = {controls_state = 158}
	#	}
	#	cost = 50
	#
	#	ai_will_do = {
	#		factor = 100
	#	}
	#
	#	days_remove = 30
	#
	#	remove_effect = {
	#		159 = { #Milano
	#				remove_building = {
	#					type = arms_factory
	#					level = 10
	#				}
	#				remove_building = {
	#					type = industrial_complex
	#					level = 10
	#				}
	#			}
	#			158 = { #Torino
	#				remove_building = {
	#					type = arms_factory
	#					level = 5
	#				}
	#				remove_building = {
	#					type = industrial_complex
	#					level = 5
	#				}
	#			}
	#			65 = { 
	#			add_extra_state_shared_building_slots = 10
	#			add_building_construction = {
	#					type = arms_factory
	#					level = 5
	#					instant_build = yes
	#				}
	#				add_building_construction = {
	#					type = industrial_complex
	#					level = 5
	#					instant_build = yes
	#				}
	#			}	
	#			54 = { 
	#			add_extra_state_shared_building_slots = 20
	#			add_building_construction = {
	#					type = arms_factory
	#					level = 10
	#					instant_build = yes
	#				}
	#				add_building_construction = {
	#					type = industrial_complex
	#					level = 10
	#					instant_build = yes
	#				}
    #            }					
	#	}
	#}
	
	GER_gustav_line = {
        
		fire_only_once = yes
		icon = generic_operation

		allowed = {
			tag =  GER
		}
		visible = {
			has_war = yes
			ITA = { is_puppet_of = GER }		
		}
		available = {
			has_war = yes
			ITA = { is_puppet_of = GER }
		}
		cost = 10
		ai_will_do = {
			factor = 100
		}
		complete_effect = {
			2 = {
				add_building_construction = {
	             type = bunker
	             level = 3
	             instant_build = yes
	             province = 923
	            }
			}	
			157 = {
				add_building_construction = {
	             type = bunker
	             level = 3
	             instant_build = yes
	             province = 963
	            }
				add_building_construction = {
	             type = bunker
	             level = 3
	             instant_build = yes
	             province = 6831
	            }
			}
		}
	}

	GER_gothic_line = {
        
		fire_only_once = yes
		icon = generic_operation

		allowed = {
			tag =  GER
		}
		
		visible = {
			has_war = yes
			ITA = { is_puppet_of = GER }		
		}

		available = {
			has_war = yes
			ITA = { is_puppet_of = GER }
		}
		cost = 10

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			162 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 6973
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 1616
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11889
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9879
				}
			}
			157 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11861
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 923
				}	
			}
		}
	}

	GER_happy_time = {
		
		icon = generic_operation
		
		allowed = {
			tag = GER
			always = yes
		}
		
		visible = {
			has_war_with = ENG
			AND = { date > 1940.01.01 }
		}
		
		available = {
			FRA = { has_capitulated = yes }
			date < 1941.1.1
		}
		
		fire_only_once = yes
		
		complete_effect = {
			add_timed_idea = {
				idea = GER_happy_time
				days = 90
			}
		}
		
	}
	
	GER_paukenschlag = {
		
		icon = generic_operation
		
		allowed = {
			tag = GER
			always = yes
		}
		
		visible = {
			has_war_with = USA
			AND = { date > 1941.01.01 }
		}
		
		available = {
			has_war_with = USA
			date > 1941.1.1
			has_completed_focus = GER_atlantikschlact
		}
		
		fire_only_once = yes
		
		complete_effect = {
			add_timed_idea = {
				idea = GER_paukenschlag
				days = 90
			}
		}
	}
	
	GER_barbarossa_mission = {

		icon = generic_operation

		allowed = {
			always = no
			#added through on_action
		}

		available = {
			219 = { is_controlled_by_ROOT_or_ally = yes }
			195 = { is_controlled_by_ROOT_or_ally = yes }
			202 = { is_controlled_by_ROOT_or_ally = yes }
			217 = { is_controlled_by_ROOT_or_ally = yes }
		}

		days_mission_timeout = 120

		fire_only_once = yes

		is_good = no

		complete_effect = {
			add_war_support = 0.05
			custom_effect_tooltip = barbarossa_mission_tt
			if = {
				limit = {
					any_army_leader = {
						has_trait = barbarossa_river
					} 
				}
				every_army_leader = {
					remove_unit_leader_trait = barbarossa_river
				}
			}
		}

		timeout_effect = {
			if = {
				limit = {
					any_army_leader = {
						has_trait = barbarossa_river
					} 
				}
				every_army_leader = {
					remove_unit_leader_trait = barbarossa_river
				}
			}			
		}

		ai_will_do = {
			factor = 10
		}
	}

	summer_offensive_I_decision = { 
	
		allowed = {
		   tag = GER
		}

		visible = {
			has_war_with = SOV
			AND = { date > 1942.03.01 date < 1942.08.01 }
		}

	    available = {
			has_war_with = SOV

			# german advance check
			SOV = { controls_state = 219 } # controls moscow 
			GER = { controls_state = 64 }
			OR = {
				GER = { controls_state = 16 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 16
				}
			}
			OR = {
				GER = { controls_state = 6 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 6
				}
			}
			OR = {
				GER = { controls_state = 7 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 7
				}
			}
			OR = {
				GER = { controls_state = 37 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 37
				}
			}
			OR = {
				GER = { controls_state = 10 }
					any_other_country = {
					is_in_faction_with = GER
					controls_state = 10
				}
			}
			ITA = { controls_state = 2 }
			OR = {
				GER = { controls_state = 43 }
					any_other_country = {
					is_in_faction_with = GER
					controls_state = 43
				}
			}
			OR = {
				GER = { controls_state = 46 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 46
				}
			}	
		}

		icon = generic_scorched_earth

		cost = 0

		ai_will_do = {
			factor = 100
		}	

		fire_only_once = yes
	
		complete_effect = { 
			add_timed_idea = {
					idea = Blau_I
					days = 120
			}
			news_event = { hours = 20 id = news.458 }
			set_country_flag = GERsummeroffensive1
			hidden_effect = {
				play_song = "Erika"
				}
     	}
    }
	
	summer_offensive_II_decision = { 
	
		allowed = {
		   tag = GER
		}

		available = {
			has_war_with = SOV
			
			AND = { date > 1943.05.01 date < 1943.08.01 }
			NOT = { has_idea = Blau_I }
			has_country_flag = GERsummeroffensive1

			# german advance check
			SOV = { controls_state = 219 } # controls moscow 
			GER = { controls_state = 64 }
			OR = {
				GER = { controls_state = 16 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 16
				}
			}
			OR = {
				GER = { controls_state = 6 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 6
				}
			}
			OR = {
				GER = { controls_state = 7 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 7
				}
			}
			OR = {
				GER = { controls_state = 37 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 37
				}
			}
			OR = {
				GER = { controls_state = 10 }
					any_other_country = {
					is_in_faction_with = GER
					controls_state = 10
				}
			}
			ITA = { controls_state = 2 }
			OR = {
				GER = { controls_state = 43 }
					any_other_country = {
					is_in_faction_with = GER
					controls_state = 43
				}
			}
			OR = {
				GER = { controls_state = 46 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 46
				}
			}	
		}

		visible = {
			has_war_with = SOV
			AND = { date > 1943.03.01 date < 1943.08.01 }
		}

		icon = generic_scorched_earth

		cost = 0

		ai_will_do = {
			factor = 100
		}	

		fire_only_once = yes
		
		complete_effect = { 	
			add_timed_idea = {
				idea = Blau_I
				days = 120
			}
			news_event = { hours = 20 id = news.458 }
			set_country_flag = GERsummeroffensive2
			hidden_effect = {
				play_song = "Es Daemmert schon im Osten"
				}
		}
    }
	
	summer_offensive_III_decision = { 
	
		allowed = {
		   tag = GER
		}
		available = {
			has_war_with = SOV
			
			AND = { date > 1944.05.01 date < 1944.08.01 } 
			NOT = { has_idea = Blau_I }
			
			has_country_flag = GERsummeroffensive2
			# german advance check
			SOV = { controls_state = 219 } # controls moscow 
			GER = { controls_state = 64 }
			OR = {
				GER = { controls_state = 16 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 16
				}
			}
			OR = {
				GER = { controls_state = 6 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 6
				}
			}
			OR = {
				GER = { controls_state = 7 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 7
				}
			}
			OR = {
				GER = { controls_state = 37 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 37
				}
			}
			OR = {
				GER = { controls_state = 10 }
					any_other_country = {
					is_in_faction_with = GER
					controls_state = 10
				}
			}
			ITA = { controls_state = 2 }
			OR = {
				GER = { controls_state = 43 }
					any_other_country = {
					is_in_faction_with = GER
					controls_state = 43
				}
			}
			OR = {
				GER = { controls_state = 46 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 46
				}
			}	
		}

		visible = {
			has_war_with = SOV
			AND = { date > 1944.03.01 date < 1944.08.01 }
		}

		icon = generic_scorched_earth

		cost = 0
		ai_will_do = {
			factor = 100
		}	
		fire_only_once = yes
	
		complete_effect = { 
			add_timed_idea = {
				idea = Blau_I
				days = 120
			}
			
			news_event = { hours = 20 id = news.458 }
			set_country_flag = GERsummeroffensive3
			hidden_effect = {
				play_song = "Lebe Wohl du Kleine Monika"
				}
		}
	}
	
	summer_offensive_IV_decision = { 
	
		allowed = {
		   tag = GER
		}

		available = {
			has_war_with = SOV
			
			AND = { date > 1945.05.01 date < 1945.08.01 } 
			NOT = { has_idea = Blau_I }
			
			has_country_flag = GERsummeroffensive3
			# german advance check
			SOV = { controls_state = 219 } # controls moscow 
			GER = { controls_state = 64 }
			OR = {
				GER = { controls_state = 16 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 16
				}
			}
			OR = {
				GER = { controls_state = 6 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 6
				}
			}
			OR = {
				GER = { controls_state = 7 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 7
				}
			}
			OR = {
				GER = { controls_state = 37 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 37
				}
			}
			OR = {
				GER = { controls_state = 10 }
					any_other_country = {
					is_in_faction_with = GER
					controls_state = 10
				}
			}
			ITA = { controls_state = 2 }
			OR = {
				GER = { controls_state = 43 }
					any_other_country = {
					is_in_faction_with = GER
					controls_state = 43
				}
			}
			OR = {
				GER = { controls_state = 46 }
				any_other_country = {
					is_in_faction_with = GER
					controls_state = 46
				}
			}	
		}

		visible = {
	        has_war_with = SOV
		    AND = { date > 1945.03.01 date < 1945.08.01 } 
		}

		icon = generic_scorched_earth

		cost = 0
		ai_will_do = {
			factor = 100
		}	
		fire_only_once = yes
	
		complete_effect = { 		
			add_timed_idea = {
				idea = Blau_I
				days = 120
			}
			news_event = { hours = 20 id = news.458 }
			set_country_flag = GERsummeroffensive4
	    }
    }
}

GER_case_anton_category = {

	GER_case_anton = {

		icon = generic_operation

		available = {
			has_government = fascism
			country_exists = EFR
			date > 1942.9.1
			EFR = { is_ai = yes }
			USA = { has_war = yes }
		}
		
		cost = 25
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0
				ITA = { has_capitulated = yes }
			}
		}
		complete_effect = {
			custom_effect_tooltip = GER_case_anton_tt
			
		}
		days_remove = 70
		remove_effect = {
			GER = {
				transfer_state = 26
				transfer_state = 22
				transfer_state = 31
				transfer_state = 25
				transfer_state = 20
				transfer_state = 33
				transfer_state = 21
				transfer_state = 32
				transfer_state = 851
				
			}
			every_state = {
				limit = {
					AND = {
						is_core_of = EFR
						is_controlled_by = GER
					}
				}
				set_resistance = 5
				set_compliance = 40
			}
			EFR = {
			  set_capital = { state = 459 }
			  add_state_core = 459
			}
			EFR = {
				transfer_navy = {
					target = ITA
				}
			}
			EFR = { remove_ideas = { EFR_petain } }
			GER = { add_to_faction = EFR }
		}
	}
}

foreign_politics = {
	
	GER_rhineland = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		allowed = {
		   tag = GER
		}	
		available = {
			42 = { is_demilitarized_zone = no }
			51 = { is_demilitarized_zone = no }
		}
		is_good = yes
		
		activation = {
			date > 1936.01.01
		}
		
		days_mission_timeout = 70
		
		selectable_mission = no
		timeout_effect = {
			42 = { set_demilitarized_zone = no }
			51 = { set_demilitarized_zone = no }
			add_political_power = 200
			army_experience = 5
			add_named_threat = { threat = 3 name = GER_rhineland }
			FRA = { country_event = { id = germany.60 } }	
			hidden_effect = {
				complete_national_focus = GER_rhineland	
			}
		}		
	}
	
	GER_anschluss = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		ai_will_do = {
			factor = 10
		}
	
		allowed = {
		   tag = GER
		}
		
		visible = {
	        date > 1937.6.1
		}
		
		available = {
			42 = { is_demilitarized_zone = no }
			51 = { is_demilitarized_zone = no }
			is_puppet = no
			or = {
				AND = { has_army_manpower = { size > 100000 } date > 1937.7.1 }
				date > 1938.4.1
		    }
			if = {
				limit = {
					GER = {	is_ai = yes }
				}
				date > 1938.1.1	  
			}
			NOT = { has_idea = rhineland_challenge_met }
		}

		days_remove = 70

		remove_effect = {
			hidden_effect = {
				complete_national_focus = GER_anschluss	
			}

			add_political_power = 100
			if = {
				limit = {
					country_exists = AUS
					AUS = {
						has_civil_war = no
						OR = {
							owns_state = 4
							owns_state = 152
							owns_state = 153
						}
					}
				}
				AUS = {
					country_event = germany.28
				}				
			}
			if = {
				limit = {
					any_other_country = {
						original_tag = AUS
						has_civil_war = yes
						OR = {
							owns_state = 4
							owns_state = 152
							owns_state = 153
						}
					}
				}
				custom_effect_tooltip = germany.126.warning
				random_other_country = {
					limit = {
						original_tag = AUS
						OR = {
							has_government = fascism
							AND = {
								has_government = neutrality
								NOT = {
									any_other_country = {
										original_tag = AUS
										has_government = fascism
									}
								}
							}
							NOT = {
								any_other_country = {
									original_tag = AUS
									OR = {
										has_government = fascism
										has_government = neutrality
									}
								}
							}							
						}
					}
					country_event = { id = germany.126 days = 1 }
				}
				# REVISIT Add Czech claims, possibly
			}
			if = {
				limit = {
					4 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 4
			}
			if = {
				limit = {
					152 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 152
			}
			if = {
				limit = {
					153 = {
						owner = {
							NOT = {
								tag = AUS
							}
							NOT = {
								is_in_faction_with = ROOT
							}
						}
					}
				}
				add_state_core = 153
			}
		}
	}

	GER_demand_sudetenland = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		
		allowed = {
		   tag = GER
		}
		
		visible = {
	        owns_state = 4
		}

		days_remove = 70

		available = {
			owns_state = 4
			is_puppet = no
			has_army_manpower = { size > 100000 } #80 div	
            date > 1938.1.1	
			if = {
				limit = {
					GER = {	is_ai = yes }
				}
				date > 1938.7.10 
			}		
			NOT = {
				AND = {
					CZE = { is_in_faction_with = GER }
					has_war = yes
				}
			}
		}

		ai_will_do = {
			factor = 10
		}

		remove_effect = {
			hidden_effect = {
				complete_national_focus = GER_demand_sudetenland
				sound_effect = ger_sudetenland
			}

			if =  {
				limit = {
					OR = {
						ENG = { exists = no }
						ENG = {
							is_subject = yes
						}
						has_war_with = ENG
						has_war_with = FRA
						AND = {
							CZE = { is_subject = yes }
							OR = {
								CZE = { 
									NOT = {
										is_puppet_of = HUN
									}
								}
								NOT = { has_dlc = "Death or Dishonor" }
							}
						}
						CZE = { has_war_with = ENG }
						CZE = { has_war_with = FRA }
						CZE = { is_in_faction_with = GER }
					}
					CZE = { controls_state = 69 }
				}
				if = {
					limit = {
						CZE = { is_subject = no }
					}
					CZE = {
						country_event = { id = germany.122 }
					}
					else = {
						CZE = {
							OVERLORD = { country_event = { id = germany.122 } }
						}
					}
				}
			}
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
					CZE = { NOT = { is_in_faction_with = GER } } #in case AH is in faction with GER and dragged a subject CZE along.
					country_exists = HUN
					OR = {
						69 = { is_owned_by = HUN } #AH restored
						AND = {
							CZE = { is_subject_of = HUN }
							69 = { is_owned_by = CZE }
						}
					}
				}
				HUN = {
					country_event = germany.122
				}
			}
			if = {
				limit = {
					
					ENG = { exists = yes }
					ENG = { is_subject = no }
					NOT = { has_war_with = ENG }
					NOT = { has_war_with = FRA }
					CZE = { is_subject = no }
					CZE = { NOT = { is_in_faction_with = GER } }
					CZE = { NOT = { has_war_with = ENG } }
					CZE = { controls_state = 69 }
					
				}
				ENG = {
					country_event = germany.40
				}
				add_named_threat = { threat = 3 name = GER_demand_sudetenland_threat }
			}
			69 = {
				add_claim_by = GER
			}
			if = {
				limit = {
					NOT = { CZE = { controls_state = 69 } }
					NOT = {
						69 = { is_controlled_by = HUN }
					}
					69 = {
						controller = {
							NOT = { is_in_faction_with = GER }
						}
					}
				}
				add_named_threat = { threat = 3 name = GER_demand_sudetenland_threat }
				69 = {
					controller = {
						GER = {
							create_wargoal = {
								type = take_state_focus
								target = PREV
								generator = { 69 }
							}
						}
					}
				}
			}
		}
	}

	GER_first_vienna_award = {
		icon = ger_reichskommissariats
		fire_only_once = yes
			
		allowed = {
		   tag = GER
		}
	
		visible = {
	        owns_state = 69
		}
		
		available = {
			is_puppet = no
			owns_state = 69
			country_exists = HUN
			NOT = { has_war_with = HUN }
		}

		days_remove = 15

		ai_will_do = {
			factor = 10
		}

		remove_effect = {

			hidden_effect = {
				complete_national_focus = GER_first_vienna_award	
			}


			add_political_power = 100
			HUN = {
				add_to_tech_sharing_group = axis_research
				country_event = { id = germany.51 }
				add_opinion_modifier = { target = GER modifier = GER_first_vienna_award_GER }
			}
			every_other_country = {
				limit = { 
					is_faction_leader = yes
					NOT = { tag = GER }
				}
				reverse_add_opinion_modifier = { target = HUN modifier = GER_second_vienna_award_other }
			}
		}
	}

	GER_end_of_czechoslovakia = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		
		allowed = {
		   tag = GER
		}
		
		visible = {
	        owns_state = 69
		}
		

		days_remove = 35

		available = { 
			owns_state = 69
			has_completed_focus = GER_first_vienna_award
			is_puppet = no
			or = {
				CZE = { is_puppet_of = GER }
				CZE = { is_in_faction_with = GER }
				has_army_manpower = { size > 100000 }
				date > 1935.3.16
			}
			if = {
				limit = {
					GER = {	is_ai = yes }
				}
				date > 1939.3.10 
			}
			NOT = { has_war_with = CZE }
		}

		ai_will_do = {
			factor = 10
		}

		remove_effect = {
			hidden_effect = {
				complete_national_focus = GER_end_of_czechoslovakia
			}
			
			if = {
				limit = { 
					country_exists = CZE 
					CZE = {
						NOT = {
							is_subject_of = HUN
						}
					}
				}
				set_global_flag = end_of_czechoslovakia
				CZE = { country_event = germany.53 }
			}
			if = {
				limit = { 
					OR = {
						CZE = {
							is_subject_of = HUN
						}
						HUN = {
							owns_state = 9#Prague - AH annexed CZE
						}
					}
				}
				add_state_claim = 9
				add_state_claim = 75
			}
			if = {
				limit = { NOT = { country_exists = CZE } }
				country_event = { id = germany.55 hours = 6 }
			}
			add_named_threat = { threat = 5 name = GER_end_of_czechoslovakia }
			country_event = { days = 7 id = germany.2280 }
		}
	}

	GER_second_vienna_award = {
		icon = ger_reichskommissariats
		fire_only_once = yes
		
		allowed = {
		   tag = GER
		}
		
		visible = {
	        date > 1940.8.1
		}
		
		days_remove = 15

		available = {
			is_puppet = no
			has_army_manpower = { size > 100000 }
			has_capitulated = no
			has_country_flag = GER_the_end_of_czechoslovakia
			country_exists = HUN
			NOT = { has_war_with = HUN }
			NOT = { has_war_with = ROM }
			date > 1940.8.15
		}

		visible = {
			has_completed_focus = GER_first_vienna_award
		}
		
		ai_will_do = {
			factor = 10
		}

		remove_effect = {
			hidden_effect = {
				complete_national_focus = GER_second_vienna_award
			}

			add_political_power = 100
			if = {
				limit = {
					HUN = {
						is_friend_or_potential_friend_of_GER = yes
					}
					ROM = {
						controls_state = 76
						NOT = { has_war_with = HUN }
					}
				}
				country_event = { id = germany.20 }
			}
		}
	}

	BUL_join_axis = {

		icon = generic_megaphone

		allowed = {
			OR = {
				tag = BUL
				tag = GER 
			}
		}

		fire_only_once = yes 

		visible = {			
			BUL = {
				is_in_faction = no
				NOT = { has_war_with = GER }			 
			}
			date > 1940.7.1	
		}

		available = {			
			BUL = {
				is_in_faction = no
				NOT = { has_war_with = GER }			 
			}
			date > 1941.1.1	
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			GER = {
				country_event = generic.2
			}
		}

		ai_will_do = {
			base = 10
		}
	}

	GER_fuhrer_directive_25 = {

		icon = generic_megaphone

		allowed = {
			tag = GER 
		}

		fire_only_once = yes 

		visible = {			
			date > 1941.1.1	
		}

		available = {			
			ITA = {
				has_border_war_with = GRE
			}
			NOT = { is_in_faction_with = YUG } 
			
		}

		ai_will_do = { 
			base = 100
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			hidden_effect = {
				ENG = {
					add_to_faction = YUG
				}
			}
			YUG = {
				add_to_war = {
					targeted_alliance = ENG
					enemy = GER
				}
			}
		}

		ai_will_do = {
			base = 10
		}
	}


	GER_demand_memel = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		
		allowed = {
		   tag = GER
		}
		
		visible = {			
			owns_state = 69	
		}
		
		available = {
			is_puppet = no
			has_army_manpower = { size > 100000 }
			has_capitulated = no
			has_country_flag = GER_the_end_of_czechoslovakia
		}

		ai_will_do = {
			factor = 10
		}

		days_remove = 35

		remove_effect = {

			hidden_effect = {
				complete_national_focus = GER_demand_memel
			}


			188 = { add_core_of = GER }
			86 = { add_claim_by = GER }
			add_named_threat = { threat = 3 name = GER_demand_memel_threat }
			if = {
				limit = {
					LIT = { owns_state = 188 }
				}
				LIT = {
					country_event = { id = baltic.4 }
				}
			}
		}
	}
	
	GER_demand_yug = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		
		allowed = {
		   tag = GER
		}
		
		visible = {			
			is_in_faction_with = YUG
		}
		
		available = {
			is_in_faction_with = YUG
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
		    transfer_state = 102
            transfer_state = 853
			ITA = {
			    transfer_state = 103
			}
			YUG = {
			    transfer_state = 163
			}
		}
	}

	GER_danzig_or_war = {
		icon = ger_reichskommissariats
		fire_only_once = yes
	
		allowed = {
		   tag = GER
		}
		
		visible = {			
			date > 1939.8.1
		}
		
		available = {	
			has_capitulated = no
			if = {
				limit = {
					GER = {	is_ai = no }
				}
					has_army_manpower = { size > 100000 }
			}
			if = {
				limit = {
					GER = {	is_ai = yes }
				}
				date > 1939.8.31
			}
		    date > 1939.8.31		 
			has_country_flag = GER_the_end_of_czechoslovakia
			SOV = {
				has_completed_focus = SOV_molotov_ribbentrop_pact
			}
		}

		ai_will_do = {
			factor = 500
		}

		complete_effect = {
			add_ideas = GER_blitzkrieg
			hidden_effect = {
				complete_national_focus = GER_danzig_or_war
				add_ideas = GER_phoney_war
				play_song = "In einem Polenstädtchen"
			}			
			add_named_threat = { threat = 15 name = GER_danzig_or_war }
			POL = {
				country_event = { id = germany.86 }
				if = {
					limit = { NOT = { is_in_faction_with = ROOT } }
					custom_effect_tooltip = needs_approval
				}
			}
		}
	}

	GER_weserubung_oak = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		
		allowed = {
		   tag = GER
		}
		visible = {
			has_war = yes
		}

		available = {
			POL = { has_capitulated = yes }
			OR = { 
				has_war_with = ENG
				NOT = {country_exists = ENG}
			}
			if = {
				limit = {
					GER = {	is_ai = yes }
				}
				date > 1940.4.1
			}
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			hidden_effect = {
				complete_national_focus = GER_weserubung
				DEN = { remove_ideas = neutrality_idea }
				NOR = { remove_ideas = neutrality_idea
						add_timed_idea = { idea = nor_gigachad_idea days = 40 } }
				ENG = {
					add_to_faction = DEN
					add_to_faction = NOR
				}
				news_event = { hours = 1 id = news.233 }
				country_event = { id = germany.331 hours = 5 }
				if = {
					limit = {
						has_idea = GER_phoney_war
					}
					remove_ideas = GER_phoney_war
				}
				
			}
			DEN = {
				add_to_war = {
					targeted_alliance = ENG
					enemy = GER
				}
			}
			NOR = {
				add_to_war = {
					targeted_alliance = ENG
					enemy = GER
				}
			}	
		}
	}
	
	GER_sweden_treaty = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		allowed = {
		   tag = GER
		}
		visible = {
			NOT = { has_war_with = SWE }
			has_war = yes			
		}

		available = {
			NOT = { has_war_with = SWE }
			SWE = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
			#DEN = { has_capitulated = yes }
			GER = {
				has_full_control_of_state =  37
			}
			NOR = { has_capitulated = yes }
		}

		ai_will_do = {
			factor = 10
		}
		cost = 10
		complete_effect = {
			SWE = { 
			country_event = { id = germany.322 }
			custom_effect_tooltip = needs_approval
			}
		}
	}

	GER_finland_access = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		allowed = {
		   tag = GER
		}
		visible = {
			date > 1941.1.1	
		}

		available = {
			date > 1941.1.1
		}

		ai_will_do = {
			factor = 10
		}
		cost = 10
		complete_effect = {
			SWE = { give_military_access = GER }
			FIN = { give_military_access = GER }
		}
	}

	GER_around_maginot = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		allowed = {
		   tag = GER
		}
		visible = {
		   has_war = yes
		}

		available = {	
			POL = { has_capitulated = yes }
			OR = { 
				has_war_with = ENG
				NOT = {country_exists = ENG}
			}
			if = {
				limit = {
					GER = {	is_ai = yes }
				}
				date > 1940.5.15	
			}						
		}
 
		ai_will_do = {
			factor = 10
		}

		complete_effect = {

			hidden_effect = {
				complete_national_focus = GER_around_maginot
				BEL = { remove_ideas = neutrality_idea }
				HOL = { remove_ideas = HOL_aloof_neutrality }
				LUX = { remove_ideas = neutrality_idea }
				ENG = {
					add_to_faction = BEL
					add_to_faction = HOL
					add_to_faction = LUX
					add_to_faction = FRA
				}
				news_event = { hours = 6 id = news.234 }
				play_song = "Oh du schöner Westerwald (Westerwaldlied)"
				if = {
					limit = {
						has_idea = GER_phoney_war
					}
					remove_ideas = GER_phoney_war
				}
			}
			BEL = {
				add_to_war = {
					targeted_alliance = ENG
					enemy = GER
				}
			}
			HOL = {
				add_to_war = {
					targeted_alliance = ENG
					enemy = GER
				}
			}
			LUX = {
				add_to_war = {
					targeted_alliance = ENG
					enemy = GER
				}
			}
			FRA = {
				add_to_war = {
					targeted_alliance = ENG
					enemy = GER
				}
			}
		}
	}

	GER_mol_rib_pact = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		allowed = {
		   tag = GER
		}
		
		visible = {
			owns_state = 188		
		}
		
		available = {
			NOT = { is_in_faction_with = POL }
			is_puppet = no
			has_army_manpower = { size > 100000 } 
			date > 1939.4.1	 
			if = {
				limit = {
					GER = {	is_ai = yes }
				}
				date > 1939.8.15
			}				
			SOV = {
				NOT = { has_war_with = GER }
				country_exists = SOV
			}
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			hidden_effect = {
				complete_national_focus = GER_mol_rib_pact
			}
			SOV = {
				country_event = { id = germany.11 days = 1 }
				custom_effect_tooltip = GER_mol_rib_pact_tt
				custom_effect_tooltip = needs_approval	
				hidden_effect = {
					complete_national_focus = SOV_molotov_ribbentrop_pact
				}		
			}
		}
	}

	GER_balkan_access = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		allowed = {
		   tag = GER
		}
		visible = {
			has_war = yes			
		}

		available = {
			POL = { has_capitulated = yes }
			OR = { 
				has_war_with = ENG
				NOT = {country_exists = ENG}
			}
			if = {
				limit = {
					GER = {	is_ai = yes }
				}
				date > 1940.5.15	
			}					
		}

		ai_will_do = {
			factor = 0
		}

		complete_effect = {
			ROM = { give_military_access = GER }
			HUN = { give_military_access = GER }
			add_to_faction = BUL
		}
	}

	GER_integrate_bulgarian_war_economy = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		allowed = {
		   tag = GER
		}
		visible = {
			has_war = yes
		}

		available = {
			AND = {
				BUL = {
					is_in_faction_with = ROOT
					is_free_or_subject_of_root = yes
				}
			}
			FRA = { has_capitulated = yes }
			has_war = yes
		}

		ai_will_do = {
			factor = 0
		}

		complete_effect = {
			if = {
				limit = {
					has_dlc = "Death or Dishonor" 
					BUL = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				GER = {
					set_autonomy = { target = BUL autonomy_state = autonomy_satellite }
				}
			}
			BUL = {
				48 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			GER = {
				56 = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}			
		}
	}

	GER_operation_25_and_marita = {
		icon = ger_reichskommissariats
		fire_only_once = yes

		allowed = {
		   tag = GER
		}
		visible = {
			has_war = yes	
		}

		available = {
			FRA = { has_capitulated = yes }
			GER = { is_in_faction_with = ITA }
			GER = { is_in_faction_with = HUN }			
		}

		ai_will_do = {
			factor = 0
		}

		complete_effect = {
			custom_effect_tooltip = GER_operation_25_and_marita_tt
			hidden_effect = {
				ENG = {
					add_to_faction = GRE
				}
				if = {
					limit = {
						NOT = { is_in_faction_with = YUG  }
					}
					ENG = {
						add_to_faction = YUG
					}
				}
			}
			GRE = {
				add_to_war = {
					targeted_alliance = ENG
					enemy = GER
				}
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = YUG  }
				}
				YUG = {
					add_to_war = {
						targeted_alliance = ENG
						enemy = GER
					}
				}
			}
		}
	}

	form_greater_german_reich = {

		icon = generic_form_nation

		fire_only_once = yes 
		
		allowed = {
			original_tag = GER
		}

		available = {
			is_subject = no
			has_full_control_of_state = 16
			has_full_control_of_state = 10
			has_full_control_of_state = 110
			has_full_control_of_state = 6
			has_full_control_of_state = 7
			all_owned_state = {
				is_fully_controlled_by = ROOT
			}
		}

		visible = {
			AND = {
				original_tag = GER
				has_government = fascism
				}
			OR = {
				AND = {
					has_war_with = FRA
					FRA = { has_capitulated = yes }
				}
				AND = {
					owns_state = 16
					has_full_control_of_state = 16
				}
			}
		}

		complete_effect = {
			set_cosmetic_tag = GER_greater_german_reich
			hidden_effect = {
				set_global_flag = form_greater_german_reich_flag
				play_song = "Deutschland, du Land der Treue"
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	GER_ussr_war_goal = { #barba

		icon = ger_reichskommissariats
	
		fire_only_once = yes

		allowed = {
		   tag = GER
		}

		available = {
			AND = { date > 1941.5.15 date < 1941.06.30 }
			is_puppet = no
			has_army_manpower = { size > 100000 } 
			is_neighbor_of = SOV
			country_exists = EFR
		}

		ai_will_do = {
			factor = 1000
		}
		
		visible = {
			has_war = yes
		}

        days_remove = 14

		remove_effect = {
			hidden_effect = {
				complete_national_focus = GER_ussr_war_goal
				play_song = "Vorwärts nach Osten (Russlandlied)"
			}
			if = {
				limit = {
					GER = { is_in_faction_with = HUN }
				}
				HUN = {
					declare_war_on = {
						target = SOV
						type = annex_everything
					}
			    }	
			}
			if = {
				limit = {
					GER = { is_in_faction_with = ROM }
				}
				ROM = {
				declare_war_on = {
					target = SOV
					type = annex_everything
					}
			    }	
			}
			if = {
				limit = {
					GER = { is_in_faction_with = ITA }
				}
				ITA = {
					declare_war_on = {
						target = SOV
						type = annex_everything
					}
			    }	
			}
			GER = {
				declare_war_on = {
					target = SOV
					type = annex_everything
				}
		    }
			add_timed_idea = {
			    idea = Barbarossa_I
			    days = 120
            }
			every_army_leader = {
				add_unit_leader_trait = barbarossa_river
			}
			
		    add_timed_idea = {
		     	idea = Barbarossa_II
		     	days = 180
		  	}
			SOV = {
				add_timed_idea = { idea = SOV_surprise_strike days = 120 }
				add_timed_idea = { idea = SOV_vvs_crippled days = 365 }
				add_ideas = Disorganized_Red_Army_1
				country_event = { id = soviet.46 days = 2 } 
				if = {
					limit = {
						OR = {
							has_idea = disarmed_nation 
							has_idea = volunteer_only
							has_idea = limited_conscription
						}
					}
					add_ideas = extensive_conscription
				}
			}
			MON = {
				add_timed_idea = { idea = SOV_surprise_strike days = 120 }
				add_timed_idea = { idea = SOV_vvs_crippled days = 365 }
			}
			if = {
				limit = {
					GER = { is_ai = yes }
					SOV = { is_ai = no }
				}
				SOV = {
					add_ideas = { SOV_surprise_strike_extra_for_ai }
			    }	
			}
			hidden_effect = {	
				every_other_country = { 
					limit = { NOT = { tag = SOV } NOT = { tag = GER } } 
					news_event = { hours = 6 id = news.459 }
				}
				SOV = {
					diplomatic_relation = { country = ENG relation = non_aggression_pact }						
					diplomatic_relation = { country = FRA relation = non_aggression_pact }
					diplomatic_relation = { country = SAF relation = non_aggression_pact }
					diplomatic_relation = { country = CAN relation = non_aggression_pact }
					diplomatic_relation = { country = RAJ relation = non_aggression_pact }
					diplomatic_relation = { country = AST relation = non_aggression_pact }
					diplomatic_relation = { country = NZL relation = non_aggression_pact }
					diplomatic_relation = { country = PHI relation = non_aggression_pact }
					diplomatic_relation = { country = NOR relation = non_aggression_pact }
					diplomatic_relation = { country = SWE relation = non_aggression_pact }
					diplomatic_relation = { country = HOL relation = non_aggression_pact }
					diplomatic_relation = { country = BEL relation = non_aggression_pact }
					diplomatic_relation = { country = LUX relation = non_aggression_pact }
					diplomatic_relation = { country = YUG relation = non_aggression_pact }
					diplomatic_relation = { country = GRE relation = non_aggression_pact }
					play_song = "The Sacred War"
				}
			}
		}
	}

	GER_ussr_war_goal_2 = { #barba2

		icon = ger_reichskommissariats
	
		fire_only_once = yes

		allowed = {
		   tag = GER
		}

		available = {
			NOT = {
				has_war_with = SOV
			}
			AND = { date > 1941.7.01 date < 1941.08.30 }
			is_puppet = no
			has_army_manpower = { size > 100000 } 
			is_neighbor_of = SOV
			country_exists = EFR
		}

		ai_will_do = {
			factor = 1000
		}
		
		visible = {
			has_war = yes
		}

        days_remove = 14

		remove_effect = {
			hidden_effect = {
				complete_national_focus = GER_ussr_war_goal
				play_song = "Vorwärts nach Osten (Russlandlied)"
			}
			if = {
				limit = {
					GER = { is_in_faction_with = HUN }
				}
				HUN = {
					declare_war_on = {
						target = SOV
						type = annex_everything
					}
			    }	
			}
			if = {
				limit = {
					GER = { is_in_faction_with = ROM }
				}
				ROM = {
				declare_war_on = {
					target = SOV
					type = annex_everything
					}
			    }	
			}
			if = {
				limit = {
					GER = { is_in_faction_with = ITA }
				}
				ITA = {
					declare_war_on = {
						target = SOV
						type = annex_everything
					}
			    }	
			}
			GER = {
				declare_war_on = {
					target = SOV
					type = annex_everything
				}
		    }
			add_timed_idea = {
			    idea = Barbarossa_I
			    days = 60
            }
			every_army_leader = {
				add_unit_leader_trait = barbarossa_river
			}
			
		    add_timed_idea = {
		     	idea = Barbarossa_II
		     	days = 120
		  	}
			SOV = {
				add_timed_idea = { idea = SOV_surprise_strike days = 120 }
				add_timed_idea = { idea = SOV_vvs_crippled days = 365 }
				add_ideas = Disorganized_Red_Army_1
				country_event = { id = soviet.46 days = 2 } 
				if = {
					limit = {
						OR = {
							has_idea = disarmed_nation 
							has_idea = volunteer_only
							has_idea = limited_conscription
						}
					}
					add_ideas = extensive_conscription
				}
			}
			MON = {
				add_timed_idea = { idea = SOV_surprise_strike days = 120 }
				add_timed_idea = { idea = SOV_vvs_crippled days = 365 }
			}
			if = {
				limit = {
					GER = { is_ai = yes }
					SOV = { is_ai = no }
				}
				SOV = {
					add_ideas = { SOV_surprise_strike_extra_for_ai }
			    }	
			}
			hidden_effect = {	
				every_other_country = { 
					limit = { NOT = { tag = SOV } NOT = { tag = GER } } 
					news_event = { hours = 6 id = news.459 }
				}
				SOV = {
					diplomatic_relation = { country = ENG relation = non_aggression_pact }						
					diplomatic_relation = { country = FRA relation = non_aggression_pact }
					diplomatic_relation = { country = SAF relation = non_aggression_pact }
					diplomatic_relation = { country = CAN relation = non_aggression_pact }
					diplomatic_relation = { country = RAJ relation = non_aggression_pact }
					diplomatic_relation = { country = AST relation = non_aggression_pact }
					diplomatic_relation = { country = NZL relation = non_aggression_pact }
					diplomatic_relation = { country = PHI relation = non_aggression_pact }
					diplomatic_relation = { country = NOR relation = non_aggression_pact }
					diplomatic_relation = { country = SWE relation = non_aggression_pact }
					diplomatic_relation = { country = HOL relation = non_aggression_pact }
					diplomatic_relation = { country = BEL relation = non_aggression_pact }
					diplomatic_relation = { country = LUX relation = non_aggression_pact }
					diplomatic_relation = { country = YUG relation = non_aggression_pact }
					diplomatic_relation = { country = GRE relation = non_aggression_pact }
					play_song = "The Sacred War"
				}
			}
		}
	}

	GER_ussr_war_goal_3 = { #barba3

		icon = ger_reichskommissariats
	
		fire_only_once = yes

		allowed = {
		   tag = GER
		}

		available = {
			NOT = {
				has_war_with = SOV
			}
			date > 1941.9.01
			is_puppet = no
			has_army_manpower = { size > 100000 } 
			is_neighbor_of = SOV
			country_exists = EFR
		}

		ai_will_do = {
			factor = 1000
		}
		
		visible = {
			has_war = yes
		}

        days_remove = 14

		remove_effect = {
			hidden_effect = {
				complete_national_focus = GER_ussr_war_goal
				play_song = "Vorwärts nach Osten (Russlandlied)"
			}
			if = {
				limit = {
					GER = { is_in_faction_with = HUN }
				}
				HUN = {
					declare_war_on = {
						target = SOV
						type = annex_everything
					}
			    }	
			}
			if = {
				limit = {
					GER = { is_in_faction_with = ROM }
				}
				ROM = {
				declare_war_on = {
					target = SOV
					type = annex_everything
					}
			    }	
			}
			if = {
				limit = {
					GER = { is_in_faction_with = ITA }
				}
				ITA = {
					declare_war_on = {
						target = SOV
						type = annex_everything
					}
			    }	
			}
			GER = {
				declare_war_on = {
					target = SOV
					type = annex_everything
				}
		    }
			every_army_leader = {
				add_unit_leader_trait = barbarossa_river
			}
			
		    add_timed_idea = {
		     	idea = Barbarossa_II
		     	days = 90
		  	}
			SOV = {
				add_timed_idea = { idea = SOV_surprise_strike days = 120 }
				add_timed_idea = { idea = SOV_vvs_crippled days = 365 }
				add_ideas = Disorganized_Red_Army_1
				country_event = { id = soviet.46 days = 2 } 
				if = {
					limit = {
						OR = {
							has_idea = disarmed_nation 
							has_idea = volunteer_only
							has_idea = limited_conscription
						}
					}
					add_ideas = extensive_conscription
				}
			}
			MON = {
				add_timed_idea = { idea = SOV_surprise_strike days = 120 }
				add_timed_idea = { idea = SOV_vvs_crippled days = 365 }
			}
			if = {
				limit = {
					GER = { is_ai = yes }
					SOV = { is_ai = no }
				}
				SOV = {
					add_ideas = { SOV_surprise_strike_extra_for_ai }
			    }	
			}
			hidden_effect = {	
				every_other_country = { 
					limit = { NOT = { tag = SOV } NOT = { tag = GER } } 
					news_event = { hours = 6 id = news.459 }
				}
				SOV = {
					diplomatic_relation = { country = ENG relation = non_aggression_pact }						
					diplomatic_relation = { country = FRA relation = non_aggression_pact }
					diplomatic_relation = { country = SAF relation = non_aggression_pact }
					diplomatic_relation = { country = CAN relation = non_aggression_pact }
					diplomatic_relation = { country = RAJ relation = non_aggression_pact }
					diplomatic_relation = { country = AST relation = non_aggression_pact }
					diplomatic_relation = { country = NZL relation = non_aggression_pact }
					diplomatic_relation = { country = PHI relation = non_aggression_pact }
					diplomatic_relation = { country = NOR relation = non_aggression_pact }
					diplomatic_relation = { country = SWE relation = non_aggression_pact }
					diplomatic_relation = { country = HOL relation = non_aggression_pact }
					diplomatic_relation = { country = BEL relation = non_aggression_pact }
					diplomatic_relation = { country = LUX relation = non_aggression_pact }
					diplomatic_relation = { country = YUG relation = non_aggression_pact }
					diplomatic_relation = { country = GRE relation = non_aggression_pact }
					play_song = "The Sacred War"
				}
			}
		}
	}

	GER_integrate_war_economies = {
		icon = ger_reichskommissariats
		fire_only_once = yes
		cost = 25 

		allowed = {
		   tag = GER
		}
		visible = {
			has_war = yes
		}

		available = {
			OR = {
				HUN = {
					is_in_faction_with = ROOT
					is_free_or_subject_of_root = yes
				}
				ROM = {
					is_in_faction_with = ROOT
					is_free_or_subject_of_root = yes
				}
			}
			has_war = yes
		}

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			hidden_effect = {
				complete_national_focus = GER_integrate_war_economies
			}
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies_1 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies_2 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			HUN = {
				every_state = {
					limit = { has_state_flag = GER_integrate_war_economies_1 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				every_state = {
					limit = { has_state_flag = GER_integrate_war_economies_2 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			ROM = {
				every_state = {
					limit = { has_state_flag = GER_integrate_war_economies_1 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
				every_state = {
					limit = { has_state_flag = GER_integrate_war_economies_2 }
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}

		remove_effect = {
			
			if = {
				limit = {
					NOT = { is_in_faction_with = HUN }
				}
				custom_effect_tooltip = GER_integrate_war_economies_tt
			}
			if = {
				limit = {
					NOT = { is_in_faction_with = ROM }
				}
				custom_effect_tooltip = GER_integrate_war_economies_tt2
			}
			if = {
				limit = {
					HUN = {
						is_in_faction_with = GER
						is_free_or_subject_of_root = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GER_integrate_war_economies_1
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GER_integrate_war_economies_2
				}
			}
			if = {
				limit = {
					ROM = {
						is_in_faction_with = GER
						is_free_or_subject_of_root = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GER_integrate_war_economies_1
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GER_integrate_war_economies_2
				}
			}
			if = {
				limit = {
					HUN = {
						is_in_faction_with = GER
						is_free_or_subject_of_root = yes
					}
				}
				HUN = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = GER_integrate_war_economies_1
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = GER_integrate_war_economies_2
					}
				}
			}
			if = {
				limit = {
					ROM = {
						is_in_faction_with = GER
						is_free_or_subject_of_root = yes
					}
				}
				ROM = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = GER_integrate_war_economies_1
					}
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 1
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
						set_state_flag = GER_integrate_war_economies_2
					}
					country_event = { id = wtt_germany.7 days = 1 }
				}
			}
			if = {
				limit = {
					has_dlc = "Death or Dishonor" 
					HUN = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				GER = {
					set_autonomy = { target = HUN autonomy_state = autonomy_satellite }
				}
			}
			if = {
				limit = { 
					has_dlc = "Death or Dishonor" 
					ROM = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				GER = {
					set_autonomy = { target = ROM autonomy_state = autonomy_satellite }
				}
			}
			if = {
				limit = { 
					has_dlc = "Together for Victory"
					NOT = { has_dlc = "Death or Dishonor" } 
					HUN = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				GER = {
					set_autonomy = { target = HUN autonomy_state = autonomy_dominion }
				}
			}
			if = {
				limit = { 
					has_dlc = "Together for Victory" 
					NOT = { has_dlc = "Death or Dishonor" }
					ROM = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				GER = {
					set_autonomy = { target = ROM autonomy_state = autonomy_dominion }
				}
			}
			if = {
				limit = { 
					NOT = { has_dlc = "Together for Victory" }
					NOT = { has_dlc = "Death or Dishonor" }
					HUN = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				puppet = HUN
			}
			if = {
				limit = { 
					NOT = { has_dlc = "Together for Victory" }
					NOT = { has_dlc = "Death or Dishonor" }
					ROM = {
						is_in_faction_with = GER
					}
					is_subject = no
				}
				puppet = ROM
			}
		}
	}

	GER_romanian_oil = {

		icon = ger_reichskommissariats

		allowed = {
		   tag = GER
		}
		
		fire_only_once = yes
		
		available = {
			ROM = { is_in_faction_with = ROOT }
		}
		
		visible = {
			has_war = yes
		}
		cost = 50

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			hidden_effect = {
				complete_national_focus = GER_romanian_oil
			}
			46 = {
				add_dynamic_modifier = { modifier = germany_oil_control_modifier }
			}
			ROM = {
				give_resource_rights = { receiver = GER state = 46 }
			}
		}
	}

	GER_secure_spain = {

		icon = ger_reichskommissariats

		fire_only_once = yes

		allowed = {
		   tag = GER
		}
		available = {
			date > 1941.1.1
			SPR = { has_civil_war = no }
			SPR = { NOT = { has_government = fascism } }
			has_war_with = SOV
			FRA = {
				OR = {
					NOT = { country_exists = THIS }
					has_capitulated = yes
					has_government = fascism
				}
			}
		}

		visible = {
			SPR = { has_civil_war = no }
			SPR = { NOT = { has_government = fascism }
			}
			FRA = {
				OR = {
					NOT = { country_exists = THIS }
					has_capitulated = yes
					has_government = fascism
				}
			}
		}

		cost = 25

		ai_will_do = {
			factor = 0
		}

		complete_effect = {
		GER = {
				create_wargoal = {
				type = take_state
				target = SPR
				generator = { 41 }
				}
			}
			if = { limit = { NOT = { SOV = { has_government = fascism } }
			}
		    	SOV = {
		             add_opinion_modifier = { target = GER modifier = large_decrease }
	        	}
			}
			if = { limit = { NOT = { POR = { has_government = fascism } }
			}
		    	POR = {
		             add_opinion_modifier = { target = GER modifier = large_decrease }
	        	}
			}
		}
	}

	GER_befriend_nationalist_spain = {

		icon = ger_reichskommissariats
		
		fire_only_once = yes
		
		allowed = {
		   tag = GER
		}
		available = {
			date > 1941.1.1
			SPR = { has_civil_war = no }
			SPR = { num_of_factories > 180 }
			any_other_country = {
				original_tag = SPR
				has_government = fascism
				NOT = { has_war_with = GER }
			}
			FRA = {
				OR = {
					NOT = { country_exists = THIS }
					has_capitulated = yes
					has_government = fascism
				}
			}
		}

		visible = {
			SPR = { has_civil_war = no }
			any_other_country = {
				original_tag = SPR
				has_government = fascism
				NOT = { has_war_with = GER }
			}
			FRA = {
				OR = {
					NOT = { country_exists = THIS }
					has_capitulated = yes
					has_government = fascism
				}
			}
		}

		cost = 25

		ai_will_do = {
			factor = 0
		}

		complete_effect = {
			random_country = {
				limit = {
					original_tag = SPR
					has_government = fascism
				}	
			country_event = { id = germany.301 days = 1 }
			}
		}
	}
}

GER_endsieg_category = {

	GER_volksturm_decision = {
		icon = generic_scorched_earth

		cost = 25
		
		fire_only_once = no

		available = {
			controls_state = 64 
			has_manpower > 100000
		}

		visible = {
			has_completed_focus = GER_volksturm
		}

		days_remove = 30 

		days_re_enable = 60 

		remove_effect = {
			add_manpower = -100000
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				prioritize = { 64 }
				create_unit = {
					division = "name = \"\" division_template = \"Volksturm Division\" start_experience_factor = 0.5 start_equipment_factor = 1" 
					owner = GER
				}
				create_unit = {
					division = "name = \"\" division_template = \"Volksturm Division\" start_experience_factor = 0.5 start_equipment_factor = 1" 
					owner = GER
				}
				create_unit = {
					division = "name = \"\" division_template = \"Volksturm Division\" start_experience_factor = 0.5 start_equipment_factor = 1" 
					owner = GER
				}
				create_unit = {
					division = "name = \"\" division_template = \"Volksturm Division\" start_experience_factor = 0.5 start_equipment_factor = 1" 
					owner = GER
				}
				create_unit = {
					division = "name = \"\" division_template = \"Volksturm Division\" start_experience_factor = 0.5 start_equipment_factor = 1" 
					owner = GER
				}
				create_unit = {
					division = "name = \"\" division_template = \"Volksturm Division\" start_experience_factor = 0.5 start_equipment_factor = 1" 
					owner = GER
				}
				create_unit = {
					division = "name = \"\" division_template = \"Volksturm Division\" start_experience_factor = 0.5 start_equipment_factor = 1" 
					owner = GER
				}
				create_unit = {
					division = "name = \"\" division_template = \"Volksturm Division\" start_experience_factor = 0.5 start_equipment_factor = 1" 
					owner = GER
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	GER_scorched_earth_lithuania = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_completed_focus = GER_implement_scorched_earth_tactics
		}

		cost = 25
		
		fire_only_once = yes
		
		visible = {
			has_war = yes
			OR = {
				controls_state = 188
				controls_state = 189
				controls_state = 11
			}
		}

		days_remove = 30 

		remove_effect = {
			if = {
				limit = {
					controls_state = 11
				}
				11 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					controls_state = 189
				}
				189 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					controls_state = 188
				}
				188 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	GER_scorched_earth_poland = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_completed_focus = GER_implement_scorched_earth_tactics
		}

		cost = 25
		
		fire_only_once = yes
		
		visible = {
			has_war = yes
			controls_state = 10
		}

		days_remove = 30 

		remove_effect = {

			every_state = {
				limit = {
					is_core_of = POL
					is_controlled_by = GER
				}
				damage_building = {
					type = infrastructure
					damage = 3
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	GER_scorched_earth_konigsberg = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_completed_focus = GER_implement_scorched_earth_tactics
		}

		cost = 25
		
		fire_only_once = yes
		
		visible = {
			has_war = yes
			controls_state = 763
		}

		days_remove = 30 

		remove_effect = {
			if = {
				limit = {
					controls_state = 763
				}
				763 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					controls_state = 5
				}
				5 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}

	GER_scorched_earth_france = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_completed_focus = GER_implement_scorched_earth_tactics
		}

		cost = 25
		
		fire_only_once = yes
		
		visible = {
			has_war = yes
			controls_state = 16
		}

		days_remove = 60 

		remove_effect = {

			every_state = {
				limit = {
					is_core_of = FRA
					is_controlled_by = GER
				}
				damage_building = {
					type = infrastructure
					damage = 3
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	GER_scorched_earth_belgium = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_completed_focus = GER_implement_scorched_earth_tactics
		}

		cost = 25
		
		fire_only_once = yes
		
		visible = {
			has_war = yes
			controls_state = 6
		}

		days_remove = 30 

		remove_effect = {

			every_state = {
				limit = {
					OR = {
						is_core_of = BEL
						is_core_of = LUX 
					}
					is_controlled_by = GER
				}
				damage_building = {
					type = infrastructure
					damage = 3
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	GER_scorched_earth_netherlands = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_completed_focus = GER_implement_scorched_earth_tactics
		}

		cost = 25
		
		fire_only_once = yes
		
		visible = {
			has_war = yes
			controls_state = 6
		}

		days_remove = 30 

		remove_effect = {

			every_state = {
				limit = {
					is_core_of = HOL
					is_controlled_by = GER
				}
				damage_building = {
					type = infrastructure
					damage = 3
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}

	GER_scorched_earth_the_ruhr = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_completed_focus = GER_implement_scorched_earth_tactics
		}

		cost = 25
		
		fire_only_once = yes
		
		visible = {
			has_war = yes
			controls_state = 64
		}

		days_remove = 30 

		remove_effect = {
			if = {
				limit = {
					controls_state = 51
				}
				51 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
			if = {
				limit = {
					controls_state = 42
				}
				42 = {
					damage_building = {
						type = infrastructure
						damage = 3
					}
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}

	GER_scorched_earth_slovakia = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_completed_focus = GER_implement_scorched_earth_tactics
		}

		cost = 25
		
		fire_only_once = yes
		
		visible = {
			has_war = yes
		}

		days_remove = 30 

		remove_effect = {
			every_state = {
				limit = {
					is_core_of = SLO
					or = {
						is_controlled_by = SLO
						is_controlled_by = GER 
					}
				}
				damage_building = {
					type = infrastructure
					damage = 3
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}

	GER_scorched_earth_CZE = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_completed_focus = GER_implement_scorched_earth_tactics
		}

		cost = 25
		
		fire_only_once = yes
		
		visible = {
			has_war = yes
			OR = {
				GER = {
					controls_state = 9 
				}
				CZE = {
					controls_state = 9
				}
			}
		}

		days_remove = 30 

		remove_effect = {
			every_state = {
				limit = {
					is_core_of = CZE
					or = {
						is_controlled_by = CZE
						is_controlled_by = GER 
					}
				}
				damage_building = {
					type = infrastructure
					damage = 3
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}

	GER_scorched_earth_austria = {

		icon = generic_scorched_earth

		available = {
			has_war = yes
			has_completed_focus = GER_implement_scorched_earth_tactics
		}

		cost = 25
		
		fire_only_once = yes
		
		visible = {
			has_war = yes
			controls_state = 4 
		}

		days_remove = 30 

		remove_effect = {
			every_state = {
				limit = {
					is_core_of = AUS
					is_controlled_by = GER 
				}
				damage_building = {
					type = infrastructure
					damage = 3
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
}

#Category only allowed for GER
GER_military_buildup = {

	GER_plan_z = {

		icon = generic_naval

		available = {
			has_navy_size = {
				archetype = ship_hull_heavy
				size > 9
			}
			has_navy_size = {
				archetype = ship_hull_carrier
				size > 3
			}
			has_navy_size = {
				archetype = ship_hull_cruiser
				size > 29
			}
			has_navy_size = {
				archetype = ship_hull_light
				size > 99
			}
		}

		days_mission_timeout = 1800
		is_good = no
		fire_only_once = yes

		activation = {
			has_completed_focus = GER_naval_expansion
		}

		complete_effect = {
			add_war_support = 0.05
			navy_experience = 150
			add_stability = 0.2
			custom_effect_tooltip = GER_plan_z_tt_3
			hidden_effect = {
				add_resource = {
					type = oil
					amount = -7
					state = 59
				}
			}
		}	
	}

	GER_jaegernotprogramm = {

		icon = generic_air

		allowed = {
			tag = GER
		}
		visible = {
			has_war = yes
		}
		available = {
			set_temp_variable = { GER_air_var = num_deployed_planes_with_type@small_plane_airframe }
			add_to_temp_variable = { GER_air_var = num_deployed_planes_with_type@medium_plane_fighter_airframe }
			add_to_temp_variable = { GER_air_var = num_equipment@small_plane_airframe }
			add_to_temp_variable = { GER_air_var = num_equipment@medium_plane_fighter_airframe }
			has_war = yes
			custom_trigger_tooltip = {
				tooltip = less_than_1500_fighter_heavy_tt
				check_variable = { GER_air_var < 1500 }
			}
		}

        fire_only_once = yes

		cost = 25

		ai_will_do = {
			factor = 1
		}

		complete_effect = {
			add_timed_idea = { idea = GER_jaegernotprogramm days = 180 }
		}
	}

	GER_four_year_plan = { ### Don't build civs reeee 

		icon = generic_construction

		available = {
			arms_factory > 199
			synthetic_refinery > 11
			synthetic_rubber_refinery > 11
			has_army_size = {
			    size > 99
			    type = infantry
			}
			has_army_size = {
			    size > 11
			    type = armor
			}
			has_deployed_air_force_size = {
			    size > 1999
			    type = fighter
			}
			has_deployed_air_force_size = {
			    size > 999
			    type = cas
			}
			has_deployed_air_force_size = {
			    size > 349
			    type = tactical_bomber
			}
		}

		days_mission_timeout = 1460
		fire_only_once = yes
		is_good = no

		cancel_trigger = {
			hidden_trigger = {
				has_war = yes
			}
		}

		activation = {
			has_completed_focus = GER_four_year_plan
		}

		visible = {
			has_completed_focus = GER_four_year_plan
		}

		timeout_effect = {
			add_stability = -0.2
			add_political_power = -150
			GER_remove_mefo_bills = yes
			add_ideas = GER_mefo_bills_ended
		}

		complete_effect = {
			add_doctrine_cost_reduction = {
				cost_reduction = 0.90
				uses = 1
				category = land_doctrine
			}			
			add_stability = 0.2
			add_political_power = 150
		}	
	}
}

GER_reichskommissariats = {
	GER_reichskommissariat_norwegen = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_wesereberung
			has_government = fascism
			controls_state = 110
			controls_state = 142
			controls_state = 143
			controls_state = 144
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_wesereberung
			has_government = fascism
		}

		complete_effect = {
			custom_effect_tooltip = GER_RK_tooltip_tt
			hidden_effect = {
				create_dynamic_country = {
					original_tag = GNO
				}
				GNO = {
					inherit_technology = GER
					add_state_core = 110 	
					transfer_state = 110
					transfer_state = 142
					transfer_state = 143
					transfer_state = 144
					create_country_leader = {
						name = "Josef Terboven"
						desc = "POLITICS_JOSEF_TERBOVEN_DESC"
						picture = "gfx/leaders/NOR/josef_terboven.dds"
						expire = "1965.1.1"
						ideology = nazism
					}
				}
				GNO = {
					every_owned_state = {
						set_compliance = 45
						set_resistance = 5 
					}
				}		
				GNO = {
					add_ideas = war_economy
					add_ideas = extensive_conscription
					add_ideas = GER_efficient_sociopath
					add_ideas = GER_prince_of_terror
					add_ideas = GER_germanization
					add_ideas = GER_reichswerke_HG
					add_ideas = GER_german_administration
					delete_unit_template_and_units = {
						division_template = "Panzer-Division" 
					}
					delete_unit_template_and_units = {
						division_template = "Leichte Panzer-Division"
					}
					delete_unit_template_and_units = {
						division_template = "Infanterie-Division (mot.)"
					}
					delete_unit_template_and_units = {
						division_template = "Gebirgsjäger-Brigade"
					}
					delete_unit_template_and_units = {
						division_template = "Kavallerie-Division"
					}
				}
				set_autonomy = { target = GNO autonomy_state = autonomy_integrated_puppet }
			}
		}
	}

	GER_reichskommissariat_niederlande = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_occupation_of_the_benelux
			has_government = fascism
			controls_state = 7
			controls_state = 35
			controls_state = 36
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_occupation_of_the_benelux
			has_government = fascism
		}

		complete_effect = {
			custom_effect_tooltip = GER_RK_tooltip_tt
			hidden_effect = {
				create_dynamic_country = {
					original_tag = GHO
				}
				GHO = {
					add_ideas = GER_germanization
					add_ideas = GER_reichswerke_HG
					add_ideas = GER_german_administration
					inherit_technology = GER	
					transfer_state = 7
					add_state_core = 7 
					transfer_state = 35
					transfer_state = 36
					create_country_leader = {
						name = "Arthur Seyss-Inquart"
						desc = "POLITICS_ARTHUR_SEYSS_INQUART_DESC"
						picture = "gfx/leaders/HOL/arthur_seyss_inquart.dds"
						expire = "1965.1.1"
						ideology = nazism
					}
				}
				set_autonomy = { target = GHO autonomy_state = autonomy_integrated_puppet }
				GHO = {
					every_owned_state = {
						set_compliance = 45
						set_resistance = 5 
					}
				}	
				hidden_effect = {
					GHO = {
						add_ideas = war_economy
						add_ideas = extensive_conscription
						add_ideas = GER_efficient_sociopath
						add_ideas = GER_prince_of_terror
						delete_unit_template_and_units = {
							division_template = "Panzer-Division" 
						}
						delete_unit_template_and_units = {
							division_template = "Leichte Panzer-Division"
						}
						delete_unit_template_and_units = {
							division_template = "Infanterie-Division (mot.)"
						}
						delete_unit_template_and_units = {
							division_template = "Gebirgsjäger-Brigade"
						}
						delete_unit_template_and_units = {
							division_template = "Kavallerie-Division"
						}
					}
				}
			}
		}
	}

	GER_reichskommissariat_belgien_nordfrankreich = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_occupation_of_france
			has_completed_focus = GER_occupation_of_the_benelux
			has_government = fascism
			controls_state = 6
			controls_state = 29
			controls_state = 34
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_occupation_of_france
			has_completed_focus = GER_occupation_of_the_benelux
			has_government = fascism
		}

		complete_effect = {
			custom_effect_tooltip = GER_RK_tooltip_tt
			hidden_effect = {
				create_dynamic_country = {
					original_tag = GBE
				}
				GBE = {
					add_ideas = GER_germanization
					add_ideas = GER_reichswerke_HG
					add_ideas = GER_german_administration
					inherit_technology = GER
					add_state_core = 6 
					transfer_state = 6
					transfer_state = 29
					transfer_state = 34
					create_country_leader = {
						name = "Josef Grohe"
						desc = "POLITICS_JOSEF_GROHE_DESC"
						picture = "gfx/leaders/BEL/josef_grohe.dds"
						expire = "1965.1.1"
						ideology = nazism
					}
				}
				GBE = {
					every_owned_state = {
						set_compliance = 45
						set_resistance = 5 
					}
				}
				set_autonomy = { target = GBE autonomy_state = autonomy_integrated_puppet }
				GBE = {
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 4000 producer = GER }
					add_equipment_to_stockpile = { type = support_equipment_1 amount = 1000 producer = GER }
					add_equipment_to_stockpile = { type = horse_equipment_0 amount = 1000 producer = GER }
					add_ideas = war_economy
					add_ideas = extensive_conscription
					add_ideas = GER_efficient_sociopath
					add_ideas = GER_prince_of_terror
					delete_unit_template_and_units = {
						division_template = "Panzer-Division" 
					}
					delete_unit_template_and_units = {
						division_template = "Leichte Panzer-Division"
					}
					delete_unit_template_and_units = {
						division_template = "Infanterie-Division (mot.)"
					}
					delete_unit_template_and_units = {
						division_template = "Gebirgsjäger-Brigade"
					}
					delete_unit_template_and_units = {
						division_template = "Kavallerie-Division"
					}
				}
			}
		}
	}

	GER_reichskommissariat_poland = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_polish_occupation
			has_government = fascism
			controls_state = 87
			controls_state = 10
			controls_state = 90
			controls_state = 88
			controls_state = 762
			controls_state = 72
			controls_state = 98
			controls_state = 92
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_polish_occupation
			has_government = fascism
		}

		complete_effect = {
			custom_effect_tooltip = GER_RK_tooltip_tt
			hidden_effect = {
				create_dynamic_country = {
					original_tag = GPO
				}
				GPO = {
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 4000 producer = GER }
					add_equipment_to_stockpile = { type = support_equipment_1 amount = 1000 producer = GER }
					add_equipment_to_stockpile = { type = horse_equipment_0 amount = 1000 producer = GER }

					add_ideas = GER_germanization
					add_ideas = GER_reichswerke_HG
					add_ideas = GER_german_administration
					inherit_technology = GER	
					add_state_core = 10 

					transfer_state = 87
					transfer_state = 10
					transfer_state = 90
					transfer_state = 88
					transfer_state = 762
					transfer_state = 72
					transfer_state = 98
					transfer_state = 92
					create_country_leader = {
						name = "Hans Frank"
						desc = "POLITICS_ARTHUR_SEYSS_INQUART_DESC"
						picture = "gfx/leaders/POL/hans_frank.dds"
						expire = "1965.1.1"
						ideology = nazism
					}
				}
				set_autonomy = { target = GPO autonomy_state = autonomy_integrated_puppet }
				GPO = {
					every_owned_state = {
						set_compliance = 45
						set_resistance = 5 
					}
				}
				GPO = {
					add_ideas = war_economy
					add_ideas = extensive_conscription
					add_ideas = GER_efficient_sociopath
					add_ideas = GER_prince_of_terror
					delete_unit_template_and_units = {
						division_template = "Panzer-Division" 
					}
					delete_unit_template_and_units = {
						division_template = "Leichte Panzer-Division"
					}
					delete_unit_template_and_units = {
						division_template = "Infanterie-Division (mot.)"
					}
					delete_unit_template_and_units = {
						division_template = "Gebirgsjäger-Brigade"
					}
					delete_unit_template_and_units = {
						division_template = "Kavallerie-Division"
					}
				}
			}
		}
	}

	GER_reichskommissariat_ostland = {

		icon = ger_reichskommissariats

		available = {
			has_country_flag = GER_victory_over_the_soviet_union
			has_government = fascism
			controls_state = 97
			controls_state = 94
			controls_state = 95
			controls_state = 96
			controls_state = 194
			controls_state = 204
			controls_state = 206
			controls_state = 207
			controls_state = 241
			controls_state = 11
			controls_state = 784
			controls_state = 189
			controls_state = 12
			controls_state = 190
			controls_state = 13
			controls_state = 191
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}

		visible = {
			has_government = fascism
		}

		complete_effect = {
			custom_effect_tooltip = GER_RK_tooltip_tt
			hidden_effect = {
				create_dynamic_country = {
					original_tag = GOS 
				}

				GOS = {
					add_ideas = GER_germanization
					add_ideas = GER_reichswerke_HG
					add_ideas = GER_german_administration
					inherit_technology = GER	
					add_state_core = 206			
					transfer_state = 11
					transfer_state = 784
					transfer_state = 189
					transfer_state = 12
					transfer_state = 190
					transfer_state = 13
					transfer_state = 191
					transfer_state = 97
					transfer_state = 94
					transfer_state = 95
					transfer_state = 96
					transfer_state = 194
					transfer_state = 204
					transfer_state = 206
					transfer_state = 207
					transfer_state = 241
					transfer_state = 784

					GER = {
						if = {
							limit = {
								NOT = { has_dlc = "Death or Dishonor" }
							}
							set_autonomy = { target = GOS autonomy_state = autonomy_integrated_puppet }
						}
						else = {
							set_autonomy = { target = GOS autonomy_state = autonomy_reichskommissariat }
						}
					}
					
					create_country_leader = {
						name = "Hinrich Lohse"
						desc = "POLITICS_HINRICH_LOHSE_DESC"
						picture = "gfx/leaders/GER/hinrich_lohse.dds"
						expire = "1965.1.1"
						ideology = nazism
					}
				}
				GOS = {
					every_owned_state = {
						set_compliance = 45
						set_resistance = 5 
					}
				}
				GOS = {
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 4000 producer = GER }
					add_equipment_to_stockpile = { type = support_equipment_1 amount = 1000 producer = GER }
					add_equipment_to_stockpile = { type = horse_equipment_0 amount = 1000 producer = GER }
					add_ideas = war_economy
					add_ideas = extensive_conscription
					add_ideas = GER_efficient_sociopath
					add_ideas = GER_prince_of_terror
					delete_unit_template_and_units = {
						division_template = "Panzer-Division" 
					}
					delete_unit_template_and_units = {
						division_template = "Leichte Panzer-Division"
					}
					delete_unit_template_and_units = {
						division_template = "Infanterie-Division (mot.)"
					}
					delete_unit_template_and_units = {
						division_template = "Gebirgsjäger-Brigade"
					}
					delete_unit_template_and_units = {
						division_template = "Kavallerie-Division"
					}
				}
			}
		}
	}

	GER_reichskommissariat_ukraine = {

		icon = ger_reichskommissariats

		available = {
			has_country_flag = GER_victory_over_the_soviet_union
			has_government = fascism
			controls_state = 93
			controls_state = 91
			controls_state = 89
			controls_state = 199
			controls_state = 201
			controls_state = 198
			controls_state = 202
			controls_state = 193
			controls_state = 192
			controls_state = 203
			controls_state = 197
			controls_state = 225
			controls_state = 259
			controls_state = 226
			controls_state = 196
			controls_state = 200
			controls_state = 221
			controls_state = 228
			controls_state = 227
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}

		visible = {
			has_government = fascism
		}

		complete_effect = {
			custom_effect_tooltip = GER_RK_tooltip_tt
			hidden_effect = {
				create_dynamic_country = {
					original_tag = GUK 
				}
				GUK = {
					inherit_technology = GER			
					add_ideas = GER_germanization
					add_ideas = GER_reichswerke_HG
					add_ideas = GER_german_administration
					add_state_core = 202
					transfer_state = 93
					transfer_state = 91
					transfer_state = 89
					transfer_state = 199
					transfer_state = 201
					transfer_state = 198
					transfer_state = 202
					transfer_state = 193
					transfer_state = 192
					transfer_state = 203
					transfer_state = 197
					transfer_state = 225
					transfer_state = 259
					transfer_state = 226
					transfer_state = 196
					transfer_state = 200
					transfer_state = 221
					transfer_state = 228
					transfer_state = 227
					GER = {
						set_autonomy = { target = GUK autonomy_state = autonomy_integrated_puppet }
					}
					create_country_leader = {
						name = "Erich Koch"
						desc = "POLITICS_HINRICH_LOHSE_DESC"
						picture = "gfx/leaders/GER/erich_koch.dds"
						expire = "1965.1.1"
						ideology = nazism
					}
				}
				GUK = {
					every_owned_state = {
						set_compliance = 45
						set_resistance = 5 
					}
				}
				GUK = {
					add_ideas = war_economy
					add_ideas = extensive_conscription
					add_ideas = GER_efficient_sociopath
					add_ideas = GER_prince_of_terror
					delete_unit_template_and_units = {
						division_template = "Panzer-Division" 
					}
					delete_unit_template_and_units = {
						division_template = "Leichte Panzer-Division"
					}
					delete_unit_template_and_units = {
						division_template = "Infanterie-Division (mot.)"
					}
					delete_unit_template_and_units = {
						division_template = "Gebirgsjäger-Brigade"
					}
					delete_unit_template_and_units = {
						division_template = "Kavallerie-Division"
					}
				}
			}
		}
	}

	GER_reichskommissariat_kaukasus = {

		icon = ger_reichskommissariats

		available = {
			has_country_flag = GER_victory_over_the_soviet_union
			has_government = fascism
			controls_state = 229
			controls_state = 230
			controls_state = 231
			controls_state = 232
			controls_state = 233
			controls_state = 234
			controls_state = 235
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}

		visible = {
			has_government = fascism
		}

		complete_effect = {
			custom_effect_tooltip = GER_RK_tooltip_tt
			hidden_effect = {
				create_dynamic_country = {
					original_tag = GCA 
				}
				GCA = {
					inherit_technology = GER
					add_ideas = GER_germanization
					add_ideas = GER_reichswerke_HG
					add_ideas = GER_german_administration
					transfer_state = 229
					transfer_state = 230
					transfer_state = 231
					transfer_state = 232
					transfer_state = 233
					transfer_state = 234
					transfer_state = 235
					add_state_core = 234
					GER = {
						puppet = PREV
						set_autonomy = { target = GCA autonomy_state = autonomy_integrated_puppet }
					}
					create_country_leader = {
						name = "Alfred Rosenberg"
						desc = "POLITICS_HINRICH_LOHSE_DESC"
						picture = "gfx/leaders/GER/alfred_rosenberg.dds"
						expire = "1965.1.1"
						ideology = nazism
					}
				}
				GCA = {
					every_owned_state = {
						set_compliance = 45
						set_resistance = 5 
					}
				}
				GCA = {
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 4000 producer = GER }
					add_equipment_to_stockpile = { type = support_equipment_1 amount = 1000 producer = GER }
					add_equipment_to_stockpile = { type = horse_equipment_0 amount = 1000 producer = GER }

					add_ideas = war_economy
					add_ideas = extensive_conscription
					add_ideas = GER_efficient_sociopath
					add_ideas = GER_prince_of_terror
					delete_unit_template_and_units = {
						division_template = "Panzer-Division" 
					}
					delete_unit_template_and_units = {
						division_template = "Leichte Panzer-Division"
					}
					delete_unit_template_and_units = {
						division_template = "Infanterie-Division (mot.)"
					}
					delete_unit_template_and_units = {
						division_template = "Gebirgsjäger-Brigade"
					}
					delete_unit_template_and_units = {
						division_template = "Kavallerie-Division"
					}
				}
			}
		}
	}

	GER_reichskommissariat_moskowien = {

		icon = ger_reichskommissariats

		available = {
			has_country_flag = GER_victory_over_the_soviet_union
			has_government = fascism
			controls_state = 208
			controls_state = 209
			controls_state = 210
			controls_state = 242
			controls_state = 243
			controls_state = 224
			controls_state = 220
			controls_state = 240
			controls_state = 260
			controls_state = 245
			controls_state = 218
			controls_state = 238
			controls_state = 237
			controls_state = 236
			controls_state = 247
			controls_state = 248
			controls_state = 223
			controls_state = 254
			controls_state = 256
			controls_state = 250
			controls_state = 195
			controls_state = 398

			controls_state = 217
			controls_state = 265
			controls_state = 239
			controls_state = 257
			controls_state = 258
			controls_state = 222
			controls_state = 205
			controls_state = 219
			controls_state = 265
			controls_state = 246
			controls_state = 263
			controls_state = 244
			controls_state = 264
			controls_state = 351

			controls_state = 253
			controls_state = 252
			controls_state = 255
			controls_state = 239
			controls_state = 401
			controls_state = 407
			controls_state = 406
			controls_state = 652
			controls_state = 251
			controls_state = 249
			controls_state = 399
			controls_state = 400
			controls_state = 397
			controls_state = 214
			controls_state = 262


		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				SOV = { has_capitulated = yes }
			}
		}

		visible = {
			has_government = fascism
		}

		complete_effect = {
			custom_effect_tooltip = GER_RK_tooltip_tt
			hidden_effect = {
				create_dynamic_country = {
					original_tag = GMO 
				}
				GMO = {
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 4000 producer = GER }
					add_equipment_to_stockpile = { type = support_equipment_1 amount = 1000 producer = GER }
					add_equipment_to_stockpile = { type = horse_equipment_0 amount = 1000 producer = GER }
					add_ideas = GER_germanization
					add_ideas = GER_reichswerke_HG
					add_ideas = GER_german_administration
					inherit_technology = GER	
					add_state_core = 219
					transfer_state = 208
					transfer_state = 209
					transfer_state = 210
					transfer_state = 242
					transfer_state = 243
					transfer_state = 224
					transfer_state = 220
					transfer_state = 240
					transfer_state = 260
					transfer_state = 245
					transfer_state = 218
					transfer_state = 238
					transfer_state = 237
					transfer_state = 236
					transfer_state = 195
					transfer_state = 247
					transfer_state = 248
					transfer_state = 223
					transfer_state = 254
					transfer_state = 256
					transfer_state = 250
					transfer_state = 398
					transfer_state = 651

					transfer_state = 217
					transfer_state = 265
					transfer_state = 239
					transfer_state = 257
					transfer_state = 258
					transfer_state = 222
					transfer_state = 205
					transfer_state = 219
					transfer_state = 265
					transfer_state = 246
					transfer_state = 263
					transfer_state = 244
					transfer_state = 264
					transfer_state = 351

					transfer_state = 253
					transfer_state = 252
					transfer_state = 255
					transfer_state = 239
					transfer_state = 401
					transfer_state = 407
					transfer_state = 406
					transfer_state = 652
					transfer_state = 251
					transfer_state = 249
					transfer_state = 399
					transfer_state = 400
					transfer_state = 397
					transfer_state = 214
					transfer_state = 262
					GER = {
						set_autonomy = { target = GMO autonomy_state = autonomy_integrated_puppet }
					}
					create_country_leader = {
						name = "Siegfried Kasche"
						desc = "POLITICS_HINRICH_LOHSE_DESC"
						picture = "gfx/leaders/GER/hinrich_lohse.dds"
						expire = "1965.1.1"
						ideology = nazism
					}
				}
				GMO = {
					every_owned_state = {
						set_compliance = 45
						set_resistance = 5 
					}
				}
				GMO = {
					add_ideas = war_economy
					add_ideas = extensive_conscription
					add_ideas = GER_efficient_sociopath
					add_ideas = GER_prince_of_terror
					delete_unit_template_and_units = {
						division_template = "Panzer-Division" 
					}
					delete_unit_template_and_units = {
						division_template = "Leichte Panzer-Division"
					}
					delete_unit_template_and_units = {
						division_template = "Infanterie-Division (mot.)"
					}
					delete_unit_template_and_units = {
						division_template = "Gebirgsjäger-Brigade"
					}
					delete_unit_template_and_units = {
						division_template = "Kavallerie-Division"
					}
				}
			} 
		}
	}
}
